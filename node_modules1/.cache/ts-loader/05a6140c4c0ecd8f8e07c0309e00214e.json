{"remainingRequest":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--15-3!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--1-1!/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/database/index.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/database/index.vue","mtime":1653451630545},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/babel.config.js","mtime":1638601854000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9iZW5qdW5saXUvRGVza3RvcC9Xb3JrL3dlYi9VbnRpdGxlZCBGb2xkZXIvbm9kZV9tb2R1bGVzL19AYmFiZWxfcnVudGltZUA3LjE3LjlAQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHVucmVmIGFzIF91bnJlZiwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBub3JtYWxpemVDbGFzcyBhcyBfbm9ybWFsaXplQ2xhc3MsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBub3JtYWxpemVTdHlsZSBhcyBfbm9ybWFsaXplU3R5bGUsIHJlc29sdmVEaXJlY3RpdmUgYXMgX3Jlc29sdmVEaXJlY3RpdmUsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcyB9IGZyb20gInZ1ZSI7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgQ29sbGFwc2VkICIpOwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiSG9zdCIpOwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiU3RyYXRlZ3kiKTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIk9yZ2FuaXplIik7Cgp2YXIgX2hvaXN0ZWRfNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCIgU2VxdWVudGlhbCAiKTsKCnZhciBfaG9pc3RlZF82ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiBPcmdhbml6ZWQgIik7Cgp2YXIgX2hvaXN0ZWRfNyA9IFsib25Nb3VzZWVudGVyIl07CnZhciBfaG9pc3RlZF84ID0gewogIGtleTogMCwKICBjbGFzczogImNsZWFyZml4Igp9Owp2YXIgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogInNjcm9sbCIsCiAgc3R5bGU6IHsKICAgICJoZWlnaHQiOiAiMTAwJSIKICB9Cn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBzdHlsZTogewogICAgImZvbnQtc2l6ZSI6ICIxNXB4IgogIH0KfTsKdmFyIF9ob2lzdGVkXzExID0gewogIHN0eWxlOiB7CiAgICAiZm9udC1zaXplIjogIjE1cHgiCiAgfQp9OwppbXBvcnQgeyByZWFjdGl2ZSwgb25CZWZvcmVVbm1vdW50LCByZWYsIHdhdGNoIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAiX2VsZW1lbnQtcGx1c0AxLjIuMC1iZXRhLjZAZWxlbWVudC1wbHVzL2VzIjsKaW1wb3J0IHsgZGVhbFJlc3BvbnNlQ29kZSB9IGZyb20gIkAvdXRpbHMvZnVuY3Rpb25zIjsKaW1wb3J0IHsgZm9ybWF0VGltZSB9IGZyb20gIkAvdXRpbHMvaW5kZXgiOwppbXBvcnQgeyBXRUVLIH0gZnJvbSAiQC9jb25zdGFudC9pbmRleCI7IC8vIGltcG9ydCBzY3JvbGwgZnJvbSAidnVlLXNlYW1sZXNzLXNjcm9sbCI7Ci8vIGNvbnN0IGN1cnJlbnREYXRlID0gcmVmKG5ldyBEYXRlKCkpCi8vIGxldCBlbnRyeV9kcmF3ZXIgPSByZWYobnVsbCkKLy8gY29uc3QgcHJvZ3JhbXNOdW0gPSByZWYoMCkKCmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9fZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnaW5kZXgnLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzKSB7CiAgICB2YXIgdGltZUluZm8gPSByZWFjdGl2ZSh7CiAgICAgIHNldEludGVydmFsOiAwLAogICAgICBkYXRlRGF5OiAiIiwKICAgICAgZGF0ZVllYXI6ICIiLAogICAgICBkYXRlV2VlazogIiIKICAgIH0pOwoKICAgIHZhciBmb3JtYXRUaW1lSW5mbyA9IGZ1bmN0aW9uIGZvcm1hdFRpbWVJbmZvKCkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRpbWVJbmZvLmRhdGVEYXkgPSBmb3JtYXRUaW1lKGRhdGUsICJISDogbW06IHNzIik7CiAgICAgIHRpbWVJbmZvLmRhdGVZZWFyID0gZm9ybWF0VGltZShkYXRlLCAieXl5eS1NTS1kZCIpOwogICAgICB0aW1lSW5mby5kYXRlV2VlayA9IFdFRUtbZGF0ZS5nZXREYXkoKV07CiAgICB9OwoKICAgIHZhciBoYW5kbGVUaW1lID0gZnVuY3Rpb24gaGFuZGxlVGltZSgpIHsKICAgICAgdGltZUluZm8uc2V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9ybWF0VGltZUluZm8oKTsKICAgICAgfSwgMTAwMCk7CiAgICB9OwoKICAgIGZvcm1hdFRpbWVJbmZvKCk7CiAgICBoYW5kbGVUaW1lKCk7CiAgICB2YXIgaG9zdCA9IHJlZihudWxsKTsgLy8gY29uc3QgaG9zdHMgPSBbCiAgICAvLyAgIHsKICAgIC8vICAgICB2YWx1ZTogImZwaXNfa2JzaW1sMTQiLAogICAgLy8gICAgIGxhYmVsOiAiZnBpc19rYnNpbWwxNCIsCiAgICAvLyAgIH0sCiAgICAvLyAgIHsKICAgIC8vICAgICB2YWx1ZTogImZwaXNfa2JzaW1sMzUiLAogICAgLy8gICAgIGxhYmVsOiAiZnBpc19rYnNpbWwzNSIsCiAgICAvLyAgIH0sCiAgICAvLyAgIHsKICAgIC8vICAgICB2YWx1ZTogImZwaXNfa2JzaW1sNjYiLAogICAgLy8gICAgIGxhYmVsOiAiZnBpc19rYnNpbWw2NiIsCiAgICAvLyAgIH0sCiAgICAvLyBdOwoKICAgIHZhciBncm91cGVkID0gcmVmKFtdKTsKICAgIHZhciBob3N0cyA9IHJlZihbXSk7CiAgICB2YXIgb25seVNob3dBbGVydCA9IHJlZihmYWxzZSk7CiAgICB2YXIgYWN0dWFsUHJvZ3JhbXMgPSByZWYoW10pOyAvLyB0aGUgc3RvcmVkIHdob2xlIHByb2dyYW1zCgogICAgdmFyIHByb2dyYW1zID0gcmVmKFtdKTsgLy8gZm9yIHNob3cKCiAgICB2YXIgbG9ncyA9IHJlZihbXSk7CiAgICB2YXIgYWN0aXZlR3JvdXBJZHggPSByZWYobnVsbCk7CiAgICB2YXIgYWN0aXZlUGdJZHggPSByZWYobnVsbCk7CiAgICB2YXIgYWN0aXZlU2VsZWN0aW9uID0gcmVmKCJhbGwiKTsKICAgIHZhciBpc0dyb3VwaW5nID0gcmVmKGZhbHNlKTsKICAgIHZhciBzb2NrZXQsIHNvY2tldFVybDsKCiAgICB2YXIgY3JlYXRlTmV3U29ja2V0ID0gZnVuY3Rpb24gY3JlYXRlTmV3U29ja2V0KCkgewogICAgICBpZiAoc29ja2V0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBzb2NrZXQuY2xvc2UoKTsKICAgICAgfQoKICAgICAgc29ja2V0ID0gbmV3IFdlYlNvY2tldChzb2NrZXRVcmwpOwoKICAgICAgc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHsvLyBjb25zb2xlLmxvZygic29ja2V0IG9wZW5lZC4uLiIpOwogICAgICAgIC8vIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHt1c2VybmFtZTogImJsaXUiLG1zZzogInRlc3Qgd2Vic29ja2V0In0pKTsKICAgICAgfTsKCiAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBwYXJzZVNvY2tldE1zZzsKCiAgICAgIHNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAiV2Vic29ja2V0IGVycm9yIiwKICAgICAgICAgIGdyb3VwaW5nOiB0cnVlLAogICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7Ly8gY29uc29sZS5sb2coIldlYnNvY2tldCBjbG9zZWQuLi4uLi4iKTsKICAgICAgfTsKICAgIH07CgogICAgdmFyIGhhbmRsZVNlbGVjdCA9IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChrZXksIGtleVBhdGgpIHsKICAgICAgaWYgKGtleVBhdGhbMF0gPT0gIm9yZ2FuaXplIikgewogICAgICAgIG9ubHlTaG93QWxlcnQudmFsdWUgPSBrZXkgPT0gIkFsZXJ0IE9ubHkiOwogICAgICAgIGlzR3JvdXBpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChrZXlQYXRoWzBdID09ICJhbGwiKSB7CiAgICAgICAgaXNHcm91cGluZy52YWx1ZSA9IHRydWU7IC8vIHNvY2tldFVybCA9ICJ3czovLzE5Mi4xNjguMC4xMjA6NjkxOS9xdW90ZXIvYWxsL2FsbCI7CiAgICAgICAgLy8gc29ja2V0VXJsID0gIndzOi8vNy4xNTEuMTYuOTk6NjkxOS9xdW90ZXIvYWxsL2FsbCI7CgogICAgICAgIHNvY2tldFVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfV0VCU09DS0VUX1VSTCArICJxdW90ZXIvYWxsL2FsbCI7CiAgICAgIH0gZWxzZSBpZiAoa2V5UGF0aFswXSA9PSAiaG9zdCIpIHsKICAgICAgICBpc0dyb3VwaW5nLnZhbHVlID0gZmFsc2U7IC8vIHNvY2tldFVybCA9ICJ3czovLzE5Mi4xNjguMC4xMjA6NjkxOS9xdW90ZXIvaG9zdC8iICsga2V5OwoKICAgICAgICBzb2NrZXRVcmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1dFQlNPQ0tFVF9VUkwgKyAicXVvdGVyL2hvc3QvIiArIGtleTsgLy8gc29ja2V0VXJsID0gIndzOi8vNy4xNTEuMTYuOTk6NjkxOS9xdW90ZXIvaG9zdC8iICsga2V5CiAgICAgIH0gZWxzZSBpZiAoa2V5UGF0aFswXSA9PSAic3RyYXRlZ3kiKSB7CiAgICAgICAgaXNHcm91cGluZy52YWx1ZSA9IGZhbHNlOyAvLyBzb2NrZXRVcmwgPSAid3M6Ly8xOTIuMTY4LjAuMTIwOjY5MTkvcXVvdGVyL3N0cmF0ZWd5LyIgKyBrZXk7CgogICAgICAgIHNvY2tldFVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfV0VCU09DS0VUX1VSTCArICJxdW90ZXIvc3RyYXRlZ3kvIiArIGtleTsgLy8gc29ja2V0VXJsID0gIndzOi8vNy4xNTEuMTYuOTk6NjkxOS9xdW90ZXIvc3RyYXRlZ3kvIiArIGtleQogICAgICB9CgogICAgICBjcmVhdGVOZXdTb2NrZXQoKTsKICAgIH07CgogICAgdmFyIGZvcm1hdExvZ1RpdGxlID0gZnVuY3Rpb24gZm9ybWF0TG9nVGl0bGUoaW5kZXgpIHsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFjdHVhbFByb2dyYW1zLnZhbHVlKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIHByb2dyYW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICBpZiAobG9ncy52YWx1ZVtpbmRleF0uaWQgPT09IHByb2dyYW0uaWQpIHsKICAgICAgICAgICAgcmV0dXJuICJbIiArIGxvZ3MudmFsdWVbaW5kZXhdLmN0aW1lICsgIl06IiArIHByb2dyYW0ubmFtZSArICJAIiArIGhvc3RzLnZhbHVlW3Byb2dyYW0uaG9zdCAtIDFdLm5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIHNldE9wYWNpdHkgPSBmdW5jdGlvbiBzZXRPcGFjaXR5KGluZGV4LCBpc09wYWNpdHkpIHsKICAgICAgaWYgKGlzT3BhY2l0eSkgewogICAgICAgIHByb2dyYW1zLnZhbHVlW2luZGV4XS5jbGFzcyA9IHByb2dyYW1zLnZhbHVlW2luZGV4XS5jbGFzcyArICIgb3BhY2l0eSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcHJvZ3JhbXMudmFsdWVbaW5kZXhdLmNsYXNzID0gcHJvZ3JhbXMudmFsdWVbaW5kZXhdLmNsYXNzLnJlcGxhY2UoL29wYWNpdHkvZywgIiIpOwogICAgICB9CiAgICB9OwoKICAgIHdhdGNoKG9ubHlTaG93QWxlcnQsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlKSB7CiAgICAgICAgcHJvZ3JhbXMudmFsdWUgPSBbXTsKICAgICAgICB2YXIgbm9ybWFsID0gW107CiAgICAgICAgdmFyIGFibm9ybWFsID0gW107CgogICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICBfc3RlcDI7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICAgIGlmIChwcm9ncmFtWyJjbGFzcyJdLmluZGV4T2YoImFsZXJ0IikgIT09IC0xKSB7CiAgICAgICAgICAgICAgYWJub3JtYWwucHVzaChwcm9ncmFtKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBub3JtYWwucHVzaChwcm9ncmFtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgIH0KCiAgICAgICAgcHJvZ3JhbXMudmFsdWUgPSBub3JtYWwuY29uY2F0KGFibm9ybWFsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IGFjdHVhbFByb2dyYW1zLnZhbHVlOwogICAgICB9CgogICAgICByb3dzLnZhbHVlID0gTWF0aC5jZWlsKHByb2dyYW1zLnZhbHVlLmxlbmd0aCAvIGNvbHMudmFsdWUpOwogICAgfSk7CiAgICB3YXRjaChhY3RpdmVHcm91cElkeCwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBjb25zb2xlLmxvZyhuZXdWYWx1ZSwgIjwtLS0tIiwgb2xkVmFsdWUpOwoKICAgICAgaWYgKG5ld1ZhbHVlID09IG51bGwpIHsKICAgICAgICBpZiAoaXNHcm91cGluZy52YWx1ZSkgewogICAgICAgICAgcHJvZ3JhbXMudmFsdWUgPSBbXTsKCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGdyb3VwZWQudmFsdWUpLAogICAgICAgICAgICAgIF9zdGVwMzsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBncm91cCA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgICAgICB2YXIgbmV3UHJvZ3JhbSA9IG51bGw7CgogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IF9zdGVwNC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtLmdyb3VwID09IGdyb3VwLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyYW1bImNsYXNzIl0uaW5kZXhPZigiYWxlcnQiKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhbGVydCIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyR01WOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1heEdNVjogMQogICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDMiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgbmV3UHJvZ3JhbSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLmlkLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogIm5vcm1hbCIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyR01WOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1heEdNVjogMQogICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDMiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChuZXdQcm9ncmFtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBwcm9ncmFtcy52YWx1ZS5wdXNoKG5ld1Byb2dyYW0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb2dyYW1zLnZhbHVlKSwKICAgICAgICAgICAgX3N0ZXA1OwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgcHJvZ3JhbSA9IF9zdGVwNS52YWx1ZTsKICAgICAgICAgICAgcHJvZ3JhbS5jbGFzcyA9IHByb2dyYW0uY2xhc3MucmVwbGFjZSgvb3BhY2l0eS9nLCAiIik7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yNS5mKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpc0dyb3VwaW5nLnZhbHVlKSB7CiAgICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IFtdOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZ3JvdXBlZC52YWx1ZSksCiAgICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgZ3JvdXAgPSBfc3RlcDYudmFsdWU7CgogICAgICAgICAgICAgIGlmIChncm91cC5pZCA9PT0gbmV3VmFsdWUpIHsKICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICAgICAgICAgIF9zdGVwNzsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgIHByb2dyYW0gPSBfc3RlcDcudmFsdWU7CgogICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtLmdyb3VwID09PSBuZXdWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbXMudmFsdWUucHVzaChwcm9ncmFtKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjcuZigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gbnVsbDsKCiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFjdHVhbFByb2dyYW1zLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICBfc3RlcDg7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICBwcm9ncmFtID0gX3N0ZXA4LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbS5ncm91cCA9PSBncm91cC5pZCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyYW1bImNsYXNzIl0uaW5kZXhPZigiYWxlcnQiKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvZ3JhbSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogImFsZXJ0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVzOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyR01WOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4R01WOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2FnZWQ6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJub3JtYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhHTVY6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdQcm9ncmFtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3I4LmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjguZigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChuZXdQcm9ncmFtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHByb2dyYW1zLnZhbHVlLnB1c2gobmV3UHJvZ3JhbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3I2LmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBfaXRlcmF0b3I5ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICBfc3RlcDk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjkucygpOyAhKF9zdGVwOSA9IF9pdGVyYXRvcjkubigpKS5kb25lOykgewogICAgICAgICAgICBwcm9ncmFtID0gX3N0ZXA5LnZhbHVlOwoKICAgICAgICAgICAgaWYgKHByb2dyYW0uZ3JvdXAgIT0gbmV3VmFsdWUpIHsKICAgICAgICAgICAgICBwcm9ncmFtLmNsYXNzID0gcHJvZ3JhbS5jbGFzcyArICIgb3BhY2l0eSI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcHJvZ3JhbS5jbGFzcyA9IHByb2dyYW0uY2xhc3MucmVwbGFjZSgvb3BhY2l0eS9nLCAiIik7IC8vIEVsTWVzc2FnZSh7CiAgICAgICAgICAgICAgLy8gICBtZXNzYWdlOiBncm91cGVkLnZhbHVlW3Byb2dyYW0uZ3JvdXBdLm5hbWUsCiAgICAgICAgICAgICAgLy8gICBncm91cGluZzogdHJ1ZSwKICAgICAgICAgICAgICAvLyAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSAvLyB2YXIgb2xkR3JvdXBJZHggPSAtMSwKICAgICAgICAgIC8vICAgbmV3R3JvdXBJZHggPSAtMTsKICAgICAgICAgIC8vIGZvciAodmFyIGdyb3VwIG9mIGdyb3VwZWQudmFsdWUpIHsKICAgICAgICAgIC8vICAgdmFyIGlkeCA9IGdyb3VwLnByb2dyYW1zLmluZGV4T2YobmV3VmFsdWUpOwogICAgICAgICAgLy8gICBpZiAoaWR4ICE9PSAtMSkgewogICAgICAgICAgLy8gICAgIG5ld0dyb3VwSWR4ID0gaWR4OwogICAgICAgICAgLy8gICAgIGZvciAoaWR4IG9mIGdyb3VwLnByb2dyYW1zKSB7CiAgICAgICAgICAvLyAgICAgICBzZXRPcGFjaXR5KGlkeCwgZmFsc2UpOwogICAgICAgICAgLy8gICAgIH0KICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gICBpZiAob2xkVmFsdWUgIT09IG51bGwpIHsKICAgICAgICAgIC8vICAgICBpZHggPSBncm91cC5wcm9ncmFtcy5pbmRleE9mKG9sZFZhbHVlKTsKICAgICAgICAgIC8vICAgICBpZiAoaWR4ICE9PSAtMSkgewogICAgICAgICAgLy8gICAgICAgb2xkR3JvdXBJZHggPSBpZHg7CiAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyAgIGlmICgob2xkR3JvdXBJZHggIT09IC0xIHx8IG9sZFZhbHVlID09IG51bGwpICYmIG5ld0dyb3VwSWR4ICE9PSAtMSkgewogICAgICAgICAgLy8gICAgIGJyZWFrOwogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyB9CgogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yOS5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjkuZigpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CgogICAgdmFyIGVudGVyQm94ID0gZnVuY3Rpb24gZW50ZXJCb3goaW5kZXgpIHsKICAgICAgYWN0aXZlUGdJZHgudmFsdWUgPSBpbmRleDsKICAgICAgY29uc29sZS5sb2coInByb2dyYW1zOiIsIHByb2dyYW1zLnZhbHVlKTsKICAgICAgYWN0aXZlR3JvdXBJZHgudmFsdWUgPSBwcm9ncmFtcy52YWx1ZVtpbmRleF0uZ3JvdXA7IC8vIGNvbnNvbGUubG9nKCJlbnRlci4uLiIpOwogICAgICAvLyBmb3IgKCB2YXIgaSA9IDA7IGkgPCBwcm9ncmFtcy52YWx1ZS5sZW5ndGg7ICsraSkgewogICAgICAvLyAgIGNvbnNvbGUubG9nKCJCZWZvcmUiLCBwcm9ncmFtcy52YWx1ZVtpXS5jbGFzcykKICAgICAgLy8gICBwcm9ncmFtcy52YWx1ZVtpXS5jbGFzcy5yZXBsYWNlKC9vcGFjaXR5L2csICIiKQogICAgICAvLyAgIGlmICggaSAhPSBpbmRleCApIHsKICAgICAgLy8gICAgIHByb2dyYW1zLnZhbHVlW2ldLmNsYXNzICs9ICIgb3BhY2l0eSIKICAgICAgLy8gICB9CiAgICAgIC8vICAgY29uc29sZS5sb2coIkFmdGVyIiwgcHJvZ3JhbXMudmFsdWVbaV0uY2xhc3MpCiAgICAgIC8vIH0KICAgIH07CgogICAgdmFyIGxlYXZlQm94ID0gZnVuY3Rpb24gbGVhdmVCb3goKSB7CiAgICAgIGNvbnNvbGUubG9nKCJsZWF2ZS4uLiIpOwogICAgICBhY3RpdmVQZ0lkeC52YWx1ZSA9IG51bGw7CiAgICAgIGFjdGl2ZUdyb3VwSWR4LnZhbHVlID0gbnVsbDsgLy8gZm9yICggdmFyIGkgPSAwOyBpIDwgcHJvZ3JhbXMudmFsdWUubGVuZ3RoOyArK2kpIHsKICAgICAgLy8gICBwcm9ncmFtcy52YWx1ZVtpXS5jbGFzcy5yZXBsYWNlKC9vcGFjaXR5L2csICIiKQogICAgICAvLyB9CiAgICB9OwoKICAgIHZhciBsb2dDb250YWluZXIgPSByZWYobnVsbCk7CiAgICB2YXIgcm93cyA9IHJlZigwKTsKICAgIHZhciBjb2xzID0gcmVmKDI0KTsKICAgIHZhciB2aXNpYmxlID0gcmVmKGZhbHNlKTsgLy8gbGV0IHF1ZXJ5VGltZXIgPSByZWYobnVsbCkKCiAgICB2YXIgcXVlcnkgPSB7CiAgICAgIGZyb206IG51bGwsCiAgICAgIHRvOiBudWxsLAogICAgICBuYW1lOiBudWxsLAogICAgICBudW1iZXI6IG51bGwKICAgIH07CiAgICB2YXIgbnVtYmVyS2V5cyA9IFsib3JkZXJzIiwgInRyYWRlcyIsICJmYWlscyIsICJjdXJyR01WIiwgIm1heEdNViJdOyAvLyBsZXQgcHJvZ3JhbXNfa2V5cyA9IHJlZihbXSk7CgogICAgb25CZWZvcmVVbm1vdW50KGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coIm9uQmVmb3JlVW5tb3VudCIpOyAvLyAgIHN0b3BRdWVyeVN0YXR1cygpCiAgICB9KTsKCiAgICB2YXIgdGFibGVSb3dDbGFzc05hbWUgPSBmdW5jdGlvbiB0YWJsZVJvd0NsYXNzTmFtZShfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICAgIHJvd0luZGV4ID0gX3JlZi5yb3dJbmRleDsKICAgICAgY29uc29sZS5sb2coInJvdy4uLi4iLCByb3cuc2Vjb25kLmZhaWxzLCByb3cuc2Vjb25kLmZhaWxzID4gMzAwKTsKCiAgICAgIGlmIChyb3cuc2Vjb25kLmZhaWxzID4gMzAwKSB7CiAgICAgICAgcmV0dXJuICJlcnJvci1yb3ciOwogICAgICB9IGVsc2UgaWYgKHJvdy5zZWNvbmQuc2luY2UgPT0gIiIpIHsKICAgICAgICByZXR1cm4gIndhcm5pbmctcm93IjsKICAgICAgfQoKICAgICAgcmV0dXJuICIiOwogICAgfTsKCiAgICB2YXIgZm9ybWF0R01WID0gZnVuY3Rpb24gZm9ybWF0R01WKGN1cnJHTVYsIG1heEdNVikgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAiQ3VycjoiICsgY3VyckdNVjsgLy8gKyAiLE1heDoiICsgbWF4R01WOwogICAgICB9OwogICAgfTsKCiAgICB2YXIgZm9ybWF0U3ltYm9scyA9IGZ1bmN0aW9uIGZvcm1hdFN5bWJvbHMoc3ltYm9scywgZW5nYWdlZCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAiU3ltYm9sczoiICsgc3ltYm9scyArICIsRW5nYWdlZDogIiArIGVuZ2FnZWQ7CiAgICAgIH07CiAgICB9OwoKICAgIHZhciBwYXJzZVNvY2tldE1zZyA9IGZ1bmN0aW9uIHBhcnNlU29ja2V0TXNnKG1zZykgewogICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKG1zZy5kYXRhKTsKICAgICAgY29uc29sZS5sb2coInJlc3BvbnNlIik7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgZGVhbFJlc3BvbnNlQ29kZShyZXNwb25zZSwgZnVuY3Rpb24gc3VjY2Vzc0hhbmRsZXIoKSB7CiAgICAgICAgLy8gZmlyc3QgdGltZTogZ2V0IHRoZSB3aG9sZSBwcm9ncmFtcwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnByb2dyYW1zICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIG9ubHlTaG93QWxlcnQudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIGFjdHVhbFByb2dyYW1zLnZhbHVlID0gW107CiAgICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IFtdOwogICAgICAgICAgZ3JvdXBlZC52YWx1ZSA9IFtdOwogICAgICAgICAgaG9zdHMudmFsdWUgPSBbXTsKICAgICAgICAgIGxvZ3MudmFsdWUgPSBbXTsKICAgICAgICAgIHJvd3MudmFsdWUgPSAwOwogICAgICAgICAgYWN0aXZlUGdJZHgudmFsdWUgPSBudWxsOwogICAgICAgICAgYWN0aXZlR3JvdXBJZHgudmFsdWUgPSBudWxsOwoKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxvZ3MgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5sb2dzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubG9nc1tpXS5sZXZlbCA9PSAiMCIpIHsKICAgICAgICAgICAgICAgIHZhciBjb2xvciA9ICJjb2xvcjogIzY3YzIzYSI7IC8vIHN1Y2Nlc3MKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEubG9nc1tpXS5sZXZlbCA9PSAiMSIpIHsKICAgICAgICAgICAgICAgIGNvbG9yID0gImNvbG9yOiAjZTZhMjNjIjsgLy8gd2FybmluZwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5sb2dzW2ldLmxldmVsID09ICIyIikgewogICAgICAgICAgICAgICAgY29sb3IgPSAiY29sb3I6ICNmZjE2MDIiOyAvLyBhbGVydCAjZjU2YzZjICNmMjBjMDAKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29sb3IgPSAiY29sb3I6ICM5MDkzOTkiOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbG9ncy52YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgIGlkOiByZXNwb25zZS5kYXRhLmxvZ3NbaV0ucHJvZ3JhbSwKICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubG9nc1tpXS50ZXh0LAogICAgICAgICAgICAgICAgbGV2ZWw6IHJlc3BvbnNlLmRhdGEubG9nc1tpXS5sZXZlbCwKICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvciwKICAgICAgICAgICAgICAgIGN0aW1lOiByZXNwb25zZS5kYXRhLmxvZ3NbaV0uY3RpbWUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGdyb3VwZWQudmFsdWUgPSByZXNwb25zZS5kYXRhLmdyb3VwczsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwZWQudmFsdWUubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgZ3JvdXBlZC52YWx1ZVtpXS5vcGFjaXR5ID0gMTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZygiY29taW5nIGhvc3RzLi4uIik7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmhvc3RzKTsKICAgICAgICAgIGhvc3RzLnZhbHVlID0gcmVzcG9uc2UuZGF0YS5ob3N0czsKICAgICAgICAgIGNvbnNvbGUubG9nKCJwYXJzZWQgaG9zdHMiKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGhvc3RzLnZhbHVlKTsKICAgICAgICAgIGFjdHVhbFByb2dyYW1zLnZhbHVlID0gcmVzcG9uc2UuZGF0YS5wcm9ncmFtczsKCiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYWN0dWFsUHJvZ3JhbXMudmFsdWUubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgaWYgKGFjdHVhbFByb2dyYW1zLnZhbHVlW2ldLm1vZHVsZXMgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWVbaV0ubW9kdWxlcyA9IFtdOwogICAgICAgICAgICAgIGFjdHVhbFByb2dyYW1zLnZhbHVlW2ldWyJjbGFzcyJdID0gImRlYWQgYmxpbmstYm9yZGVyIjsKICAgICAgICAgICAgfSBlbHNlIGlmIChhY3R1YWxQcm9ncmFtcy52YWx1ZVtpXS5tb2R1bGVzWzBdLmZhaWxzID4gYWN0dWFsUHJvZ3JhbXMudmFsdWVbaV0ubW9kdWxlc1swXS50cmFkZXMpIHsKICAgICAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpXVsiY2xhc3MiXSA9ICJhbGVydCI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWVbaV1bImNsYXNzIl0gPSAibm9ybWFsIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpc0dyb3VwaW5nLnZhbHVlKSB7CiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IxMCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGdyb3VwZWQudmFsdWUpLAogICAgICAgICAgICAgICAgX3N0ZXAxMDsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxMC5zKCk7ICEoX3N0ZXAxMCA9IF9pdGVyYXRvcjEwLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgIHZhciBncm91cCA9IF9zdGVwMTAudmFsdWU7CiAgICAgICAgICAgICAgICB2YXIgbmV3UHJvZ3JhbSA9IG51bGw7CgogICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjExID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICAgICAgICAgIF9zdGVwMTE7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxMS5zKCk7ICEoX3N0ZXAxMSA9IF9pdGVyYXRvcjExLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IF9zdGVwMTEudmFsdWU7CgogICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtLmdyb3VwID09IGdyb3VwLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbVsiY2xhc3MiXS5pbmRleE9mKCJhbGVydCIpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAiYWxlcnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhHTVY6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAibm9ybWFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVzOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyR01WOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4R01WOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2FnZWQ6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjExLmUoZXJyKTsKICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjExLmYoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAobmV3UHJvZ3JhbSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBwcm9ncmFtcy52YWx1ZS5wdXNoKG5ld1Byb2dyYW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMTAuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjEwLmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJvZ3JhbXMudmFsdWUgPSBhY3R1YWxQcm9ncmFtcy52YWx1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZygiUHJvZ3JhbXM6ICIsIHByb2dyYW1zLnZhbHVlKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJhY3R1YWxQcm9ncmFtczogIiwgYWN0dWFsUHJvZ3JhbXMudmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwcm9ncmFtID0gcmVzcG9uc2UuZGF0YS5wcm9ncmFtOwoKICAgICAgICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGFjdHVhbFByb2dyYW1zLnZhbHVlLmxlbmd0aDsgKytpZHgpIHsKICAgICAgICAgICAgaWYgKGFjdHVhbFByb2dyYW1zLnZhbHVlW2lkeF0uaWQgPT0gcHJvZ3JhbS5pZCkgewogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWVbaWR4XS5ncm91cCA9IHByb2dyYW0uZ3JvdXA7CiAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpZHhdLmhvc3QgPSBwcm9ncmFtLmhvc3Q7CiAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpZHhdLnBpZCA9IHByb2dyYW0ucGlkOwogICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWVbaWR4XS5yZWJvb3RzID0gcHJvZ3JhbS5yZWJvb3RzOwogICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWVbaWR4XVsiY2xhc3MiXSA9IGFjdHVhbFByb2dyYW1zLnZhbHVlW2lkeF1bImNsYXNzIl0ucmVwbGFjZSgvYWxlcnQvZywgIm5vcm1hbCIpOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IxMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb2dyYW1bIm1vZHVsZXMiXSksCiAgICAgICAgICAgICAgX3N0ZXAxMjsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjEyLnMoKTsgIShfc3RlcDEyID0gX2l0ZXJhdG9yMTIubigpKS5kb25lOykgewogICAgICAgICAgICAgIHZhciBuZXdNb2R1bGUgPSBfc3RlcDEyLnZhbHVlOwoKICAgICAgICAgICAgICBpZiAobmV3TW9kdWxlWyJuYW1lIl0gPT0gImNvbXBvbmVudDIiICYmIG5ld01vZHVsZVsiZmFpbHMiXSA+IG5ld01vZHVsZVsidHJhZGVzIl0pIHsKICAgICAgICAgICAgICAgIGFjdHVhbFByb2dyYW1zLnZhbHVlW2lkeF1bImNsYXNzIl0gPSAiYWxlcnQiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjEyLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjEyLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcm9ncmFtWyJtb2R1bGVzIl0pLAogICAgICAgICAgICAgIF9zdGVwMTM7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxMy5zKCk7ICEoX3N0ZXAxMyA9IF9pdGVyYXRvcjEzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICBuZXdNb2R1bGUgPSBfc3RlcDEzLnZhbHVlOwoKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMjAgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZVtpZHhdWyJtb2R1bGVzIl0pLAogICAgICAgICAgICAgICAgICBfc3RlcDIwOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyMC5zKCk7ICEoX3N0ZXAyMCA9IF9pdGVyYXRvcjIwLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgdmFyIG9sZE1vZHVsZSA9IF9zdGVwMjAudmFsdWU7CgogICAgICAgICAgICAgICAgICBpZiAobmV3TW9kdWxlWyJuYW1lIl0gPT0gb2xkTW9kdWxlWyJuYW1lIl0pIHsKICAgICAgICAgICAgICAgICAgICBvbGRNb2R1bGUgPSBuZXdNb2R1bGU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIwLmUoZXJyKTsKICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMjAuZigpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKG5ld01vZHVsZVsibmFtZSJdID09ICJsb2ciKSB7CiAgICAgICAgICAgICAgICBpZiAobmV3TW9kdWxlWyJsZXZlbCJdID09ICIwIikgewogICAgICAgICAgICAgICAgICBjb2xvciA9ICJjb2xvcjogIzY3YzIzYSI7IC8vIHN1Y2Nlc3MKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3TW9kdWxlWyJsZXZlbCJdID09ICIxIikgewogICAgICAgICAgICAgICAgICBjb2xvciA9ICJjb2xvcjogI2U2YTIzYyI7IC8vIHdhcm5pbmcKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3TW9kdWxlWyJsZXZlbCJdID09ICIyIikgewogICAgICAgICAgICAgICAgICBjb2xvciA9ICJjb2xvcjogI2ZmMTYwMiI7IC8vIGFsZXJ0ICNmNTZjNmMgI2YyMGMwMAogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29sb3IgPSAiY29sb3I6ICM5MDkzOTkiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxvZ3MudmFsdWUucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBwcm9ncmFtLmlkLAogICAgICAgICAgICAgICAgICB0ZXh0OiBuZXdNb2R1bGVbInRleHQiXSwKICAgICAgICAgICAgICAgICAgbGV2ZWw6IG5ld01vZHVsZVsibGV2ZWwiXSwKICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgICAgICAgICAgICBjdGltZTogbmV3TW9kdWxlWyJjdGltZSJdCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IxMy5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IxMy5mKCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGxvZ3MudmFsdWUubGVuZ3RoID4gNDApIHsKICAgICAgICAgICAgbG9ncy52YWx1ZSA9IGxvZ3MudmFsdWUuc2xpY2UobG9ncy52YWx1ZS5sZW5ndGggLSA0MCk7CiAgICAgICAgICB9CgogICAgICAgICAgcHJvZ3JhbXMudmFsdWUgPSBbXTsKCiAgICAgICAgICBpZiAoaXNHcm91cGluZy52YWx1ZSkgewogICAgICAgICAgICBpZiAoYWN0aXZlR3JvdXBJZHgudmFsdWUgIT09IG51bGwpIHsKICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihncm91cGVkLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgX3N0ZXAxNDsKCiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTQucygpOyAhKF9zdGVwMTQgPSBfaXRlcmF0b3IxNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgIGdyb3VwID0gX3N0ZXAxNC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIGlmIChncm91cC5pZCA9PT0gYWN0aXZlR3JvdXBJZHgudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGVwMTU7CgogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjE1LnMoKTsgIShfc3RlcDE1ID0gX2l0ZXJhdG9yMTUubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtID0gX3N0ZXAxNS52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtLmdyb3VwID09PSBhY3RpdmVHcm91cElkeC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW1zLnZhbHVlLnB1c2gocHJvZ3JhbSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjE1LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTUuZigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gbnVsbDsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjE2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICBfc3RlcDE2OwoKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxNi5zKCk7ICEoX3N0ZXAxNiA9IF9pdGVyYXRvcjE2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbSA9IF9zdGVwMTYudmFsdWU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbS5ncm91cCA9PSBncm91cC5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtWyJjbGFzcyJdLmluZGV4T2YoImFsZXJ0IikgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAiYWxlcnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVzOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxzOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckdNVjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhHTVY6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2FnZWQ6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvZ3JhbSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogIm5vcm1hbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyR01WOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEdNVjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3UHJvZ3JhbSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IxNi5lKGVycik7CiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjE2LmYoKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9ncmFtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtcy52YWx1ZS5wdXNoKG5ld1Byb2dyYW0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTQuZShlcnIpOwogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IxNC5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IxNyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGdyb3VwZWQudmFsdWUpLAogICAgICAgICAgICAgICAgICBfc3RlcDE3OwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxNy5zKCk7ICEoX3N0ZXAxNyA9IF9pdGVyYXRvcjE3Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgZ3JvdXAgPSBfc3RlcDE3LnZhbHVlOwogICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gbnVsbDsKCiAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IxOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFjdHVhbFByb2dyYW1zLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgIF9zdGVwMTg7CgogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTgucygpOyAhKF9zdGVwMTggPSBfaXRlcmF0b3IxOC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtID0gX3N0ZXAxOC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbS5ncm91cCA9PSBncm91cC5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbVsiY2xhc3MiXS5pbmRleE9mKCJhbGVydCIpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhbGVydCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGVzOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEdNVjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2FnZWQ6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAibm9ybWFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxzOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckdNVjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4R01WOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1Byb2dyYW0gIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IxOC5lKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTguZigpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAobmV3UHJvZ3JhbSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHByb2dyYW1zLnZhbHVlLnB1c2gobmV3UHJvZ3JhbSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjE3LmUoZXJyKTsKICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTcuZigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChvbmx5U2hvd0FsZXJ0LnZhbHVlKSB7CiAgICAgICAgICAgIHZhciBub3JtYWwgPSBbXTsKICAgICAgICAgICAgdmFyIGFibm9ybWFsID0gW107CgogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTkgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgICAgICBfc3RlcDE5OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjE5LnMoKTsgIShfc3RlcDE5ID0gX2l0ZXJhdG9yMTkubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgcHJvZ3JhbSA9IF9zdGVwMTkudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKHByb2dyYW1bImNsYXNzIl0uaW5kZXhPZigiYWxlcnQiKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgYWJub3JtYWwucHVzaChwcm9ncmFtKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIG5vcm1hbC5wdXNoKHByb2dyYW0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMTkuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjE5LmYoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHJvZ3JhbXMudmFsdWUgPSBub3JtYWwuY29uY2F0KGFibm9ybWFsKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHByb2dyYW1zLnZhbHVlID0gYWN0dWFsUHJvZ3JhbXMudmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByb3dzLnZhbHVlID0gTWF0aC5jZWlsKHByb2dyYW1zLnZhbHVlLmxlbmd0aCAvIGNvbHMudmFsdWUpOwogICAgICB9LCBmdW5jdGlvbiBmYWlsSGFuZGxlcigpIHsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoImZhaWx1cmUiICsgIjoiICsgcmVzcG9uc2UubXNnKTsKICAgICAgfSwgZnVuY3Rpb24gKCkgey8vIG5vdGhpbmcKICAgICAgfSk7CiAgICB9OyAvLyBjb25zdCBzdGFydFF1ZXJ5U3RhdHVzID0gKCkgPT4gewogICAgLy8gICBjb25zb2xlLmxvZygicXVlcnkuLi4iKTsKICAgIC8vICAgLy8gICBsZXQgdXJsID0gJ3F1b3Rlci9hbGwnCiAgICAvLyAgIHF1ZXJ5LmZyb20gPSAwOwogICAgLy8gICBxdWVyeS50byA9ICJqdW1wIHRyYWRpbmciOwogICAgLy8gICBodHRwLmdldCgicXVvdGVyL2FsbCIsIHF1ZXJ5LCBPYmplY3QpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAvLyAgICAgcHJvZ3JhbXMudmFsdWUgPSByZXNwb25zZS5kYXRhLnF1b3RlcnM7CiAgICAvLyAgIH0pOwogICAgLy8gfTsKICAgIC8vIGNvbnN0IHN0b3BRdWVyeVN0YXR1cyA9ICgpID0+IHsKICAgIC8vICAgY2xlYXJJbnRlcnZhbChxdWVyeVRpbWVyLnZhbHVlKQogICAgLy8gICBxdWVyeVRpbWVyLnZhbHVlID0gbnVsbAogICAgLy8gfQogICAgLy8gY29uc3QgaGFuZGxlQ2xpY2tDYXJkID0gKHJvdywgY29sKSA9PiB7CiAgICAvLyAgICAgY29uc29sZS5sb2cocm93LCBjb2wpCiAgICAvLyB9CiAgICAvLyBjb25zdCBlbnRlclRodW1ibmFpbCA9IChpbmRleCkgPT4gewogICAgLy8gICBjb25zb2xlLmxvZyhpbmRleCk7CiAgICAvLyAgIGNvbnNvbGUubG9nKHByb2dyYW1zLnZhbHVlW2luZGV4XSk7CiAgICAvLyAgIHByb2dyYW1zLnZhbHVlW2luZGV4XS5pc1Nob3dQb3BPdmVyID0gdHJ1ZTsKICAgIC8vIH07CiAgICAvLyBjb25zdCBsZWF2ZVRodW1uYWlsID0gKGluZGV4KSA9PiB7CiAgICAvLyAgIHByb2dyYW1zLnZhbHVlW2luZGV4XS5pc1Nob3dQb3BPdmVyID0gZmFsc2U7CiAgICAvLyB9OwogICAgLy8gY29uc3QgY2xpY2tQb3AgPSAoaW5kZXgpID0+IHsKICAgIC8vICAgaWYgKGFjdGl2ZUlkLnZhbHVlID09IGluZGV4ICYmIHNob3dQb3AudmFsdWUpIHJldHVybjsKICAgIC8vICAgc2hvd1BvcC52YWx1ZSA9IGZhbHNlOwogICAgLy8gICBhY3RpdmVJZC52YWx1ZSA9IGluZGV4OwogICAgLy8gICBuZXh0VGljaygoKSA9PiB7CiAgICAvLyAgICAgc2hvd1BvcC52YWx1ZSA9IHRydWU7CiAgICAvLyAgICAgbmV4dFRpY2soKCkgPT4gewogICAgLy8gICAgICAgcG9wLnZhbHVlPy5kb1Nob3coKTsKICAgIC8vICAgICB9KTsKICAgIC8vICAgfSk7CiAgICAvLyB9OwoKCiAgICB2YXIgc2hvd0RyYXdlciA9IGZ1bmN0aW9uIHNob3dEcmF3ZXIoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJjbGlja2VkIik7CiAgICAgIHZpc2libGUudmFsdWUgPSB0cnVlOyAvLyBlbnRyeV9kcmF3ZXIudmFsdWUuc2hvdyhwcm9ncmFtcykKICAgIH07IC8vIHF1ZXJ5VGltZXIudmFsdWUgPSBzZXRJbnRlcnZhbChzdGFydFF1ZXJ5U3RhdHVzLCAxMDAwMCkKICAgIC8vIHN0YXJ0UXVlcnlTdGF0dXMoKQoKCiAgICBpZiAodHlwZW9mIFdlYlNvY2tldCA9PSAidW5kZWZpbmVkIikgewogICAgICBFbE1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICJXZWJzb2NrZXQgaXMgdW5zdXBwb3J0ZWQsIHBsZWFzZSB1c2UgQ2hyb21lIiwKICAgICAgICBncm91cGluZzogdHJ1ZSwKICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgLy8gY29uc3Qgc29ja2V0VXJsID0gJ3dzOi8vbG9jYWxob3N0OjY5MTkvd3gvP2xldmVsPWFsbCZrZXk9YWxsJwogICAgICAvLyBzb2NrZXRVcmwgPSAid3M6Ly83LjE1MS4xNi45OTo2OTE5L3F1b3Rlci9hbGwvYWxsIjsKICAgICAgc29ja2V0VXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9XRUJTT0NLRVRfVVJMICsgInF1b3Rlci9hbGwvYWxsIjsKICAgICAgY3JlYXRlTmV3U29ja2V0KCk7CiAgICB9CgogICAgcmV0dXJuIGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUpIHsKICAgICAgdmFyIF9jb21wb25lbnRfZWxfbWVudV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLW1lbnUtaXRlbSIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfc3ViX21lbnUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtc3ViLW1lbnUiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX21lbnUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtbWVudSIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zX2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZGVzY3JpcHRpb25zLWl0ZW0iKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX3RhZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWciKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX3Byb2dyZXNzID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXByb2dyZXNzIik7CgogICAgICB2YXIgX2NvbXBvbmVudF9lbF9kZXNjcmlwdGlvbnMgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZGVzY3JpcHRpb25zIik7CgogICAgICB2YXIgX2NvbXBvbmVudF9lbF9wb3BvdmVyID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXBvcG92ZXIiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2NvbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1jb2wiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX3JvdyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1yb3ciKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX21haW4gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtbWFpbiIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfYmFkZ2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYmFkZ2UiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2FyZCIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfYXNpZGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYXNpZGUiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2NvbnRhaW5lciA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1jb250YWluZXIiKTsKCiAgICAgIHZhciBfZGlyZWN0aXZlX3Njcm9sbEJvdHRvbSA9IF9yZXNvbHZlRGlyZWN0aXZlKCJzY3JvbGxCb3R0b20iKTsKCiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX21lbnUsIHsKICAgICAgICAiZGVmYXVsdC1hY3RpdmUiOiBhY3RpdmVTZWxlY3Rpb24udmFsdWUsCiAgICAgICAgbW9kZTogImhvcml6b250YWwiLAogICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogImJsYWNrIiwKICAgICAgICAidGV4dC1jb2xvciI6ICJ3aGl0ZSIsCiAgICAgICAgb25TZWxlY3Q6IGhhbmRsZVNlbGVjdAogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9tZW51X2l0ZW0sIHsKICAgICAgICAgICAgaW5kZXg6ICJhbGwiLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogInJnYmEoMCwgMCwgMCwgMC4xKSAhaW1wb3J0YW50IgogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzFdOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3N1Yl9tZW51LCB7CiAgICAgICAgICAgIGluZGV4OiAiaG9zdCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0bGU6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzJdOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChfdW5yZWYoaG9zdHMpLCBmdW5jdGlvbiAoaG9zdCwgaW5kZXgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX21lbnVfaXRlbSwgewogICAgICAgICAgICAgICAgICBrZXk6IGluZGV4LAogICAgICAgICAgICAgICAgICBpbmRleDogaG9zdC5uYW1lCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhob3N0Lm5hbWUpLCAxKV07CiAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICB9LCAxMDMyLCBbImluZGV4Il0pOwogICAgICAgICAgICAgIH0pLCAxMjgpKV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfc3ViX21lbnUsIHsKICAgICAgICAgICAgaW5kZXg6ICJzdHJhdGVneSIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgdGl0bGU6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChfdW5yZWYoZ3JvdXBlZCksIGZ1bmN0aW9uIChncm91cCwgaW5kZXgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX21lbnVfaXRlbSwgewogICAgICAgICAgICAgICAgICBrZXk6IGluZGV4LAogICAgICAgICAgICAgICAgICBpbmRleDogZ3JvdXAubmFtZQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoZ3JvdXAubmFtZSksIDEpXTsKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAgIH0sIDEwMzIsIFsiaW5kZXgiXSk7CiAgICAgICAgICAgICAgfSksIDEyOCkpXTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9zdWJfbWVudSwgewogICAgICAgICAgICBpbmRleDogIm9yZ2FuaXplIgogICAgICAgICAgfSwgewogICAgICAgICAgICB0aXRsZTogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfNF07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9tZW51X2l0ZW0sIHsKICAgICAgICAgICAgICAgIGluZGV4OiAiQWxsIgogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF81XTsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9tZW51X2l0ZW0sIHsKICAgICAgICAgICAgICAgIGluZGV4OiAiQWxlcnQgT25seSIKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfNl07CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICB9KV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfbWVudV9pdGVtLCB7CiAgICAgICAgICAgIGluZGV4OiAidGltZSIsCiAgICAgICAgICAgIGRpc2FibGVkOiAiIiwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAicG9zaXRpb24iOiAiYWJzb2x1dGUiLAogICAgICAgICAgICAgICJyaWdodCI6ICIwcHgiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKHRpbWVJbmZvLmRhdGVZZWFyKSArICIgIiArIF90b0Rpc3BsYXlTdHJpbmcodGltZUluZm8uZGF0ZVdlZWspICsgIiAiICsgX3RvRGlzcGxheVN0cmluZyh0aW1lSW5mby5kYXRlRGF5KSwgMSldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSwgOCwgWyJkZWZhdWx0LWFjdGl2ZSJdKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9jb250YWluZXIsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgImhlaWdodCI6ICIxMDAlIgogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfbWFpbiwgbnVsbCwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KF91bnJlZihyb3dzKSwgZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfcm93LCB7CiAgICAgICAgICAgICAgICAgIGd1dHRlcjogNSwKICAgICAgICAgICAgICAgICAga2V5OiByb3csCiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgIm1hcmdpbi10b3AiOiAiMHB4IgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX3VucmVmKGNvbHMpLCBmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9jb2wsIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3BhbjogMSwKICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBjb2wsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgInBhZGRpbmciOiAiMHB4IgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyhyb3cgLSAxKSAqIF91bnJlZihjb2xzKSArIGNvbCAtIDEgPCBfdW5yZWYocHJvZ3JhbXMpLmxlbmd0aCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3BvcG92ZXIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAiaG92ZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlOiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBfbm9ybWFsaXplQ2xhc3MoWyJ0aHVtYm5haWwtYm94IGNvbnRlbnQiLCBfdW5yZWYocHJvZ3JhbXMpWyhyb3cgLSAxKSAqIF91bnJlZihjb2xzKSArIGNvbCAtIDFdLmNsYXNzXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZWVudGVyOiBmdW5jdGlvbiBvbk1vdXNlZW50ZXIoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50ZXJCb3goKHJvdyAtIDEpICogX3VucmVmKGNvbHMpICsgY29sIC0gMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlbGVhdmU6IGxlYXZlQm94CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHByb2dyYW1zKVsocm93IC0gMSkgKiBfdW5yZWYoY29scykgKyBjb2wgLSAxXS5uYW1lKSwgNDMsIF9ob2lzdGVkXzcpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9ucywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiUHJvZ3JhbSBEZXRhaWxzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiA3LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICJsYXJnZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kZXNjcmlwdGlvbnNfaXRlbSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIlByb2dyYW0iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuOiAzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfdW5yZWYocHJvZ3JhbXMpWyhyb3cgLSAxKSAqIF91bnJlZihjb2xzKSArIGNvbCAtIDFdLm5hbWUpLCAxKV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDI0KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zX2l0ZW0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJIb3N0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbjogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHByb2dyYW1zKVsocm93IC0gMSkgKiBfdW5yZWYoY29scykgKyBjb2wgLSAxXS5ob3N0KSwgMSldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9uc19pdGVtLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiUGlkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHByb2dyYW1zKVsocm93IC0gMSkgKiBfdW5yZWYoY29scykgKyBjb2wgLSAxXS5waWQpLCAxKV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDI0KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zX2l0ZW0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJSZWJvb3RzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfdW5yZWYocHJvZ3JhbXMpWyhyb3cgLSAxKSAqIF91bnJlZihjb2xzKSArIGNvbCAtIDFdLnJlYm9vdHMpLCAxKV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDI0KV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDI0KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zX2l0ZW0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJPcmRlcnMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhZywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfdW5yZWYocHJvZ3JhbXMpWyhyb3cgLSAxKSAqIF91bnJlZihjb2xzKSArIGNvbCAtIDFdWydtb2R1bGVzJ11bMF0ub3JkZXJzKSwgMSldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9uc19pdGVtLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiVHJhZGVzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoX3VucmVmKHByb2dyYW1zKVsocm93IC0gMSkgKiBfdW5yZWYoY29scykgKyBjb2wgLSAxXVsnbW9kdWxlcyddWzBdLnRyYWRlcyksIDEpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMjQpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMjQpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9kZXNjcmlwdGlvbnNfaXRlbSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkZhaWxzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJkYW5nZXIiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyhfdW5yZWYocHJvZ3JhbXMpWyhyb3cgLSAxKSAqIF91bnJlZihjb2xzKSArIGNvbCAtIDFdWydtb2R1bGVzJ11bMF0uZmFpbHMpLCAxKV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDI0KV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDI0KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zX2l0ZW0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJDdXJyR01WIC8gTWF4R01WIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbjogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wcm9ncmVzcywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRleHQtaW5zaWRlIjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdHJva2Utd2lkdGgiOiAyNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IF91bnJlZihwcm9ncmFtcylbKHJvdyAtIDEpICogX3VucmVmKGNvbHMpICsgY29sIC0gMV1bJ21vZHVsZXMnXVsxXS5jdXJyR01WICogMTAwIC8gX3VucmVmKHByb2dyYW1zKVsocm93IC0gMSkgKiBfdW5yZWYoY29scykgKyBjb2wgLSAxXVsnbW9kdWxlcyddWzFdLm1heEdNViwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0R01WKF91bnJlZihwcm9ncmFtcylbKHJvdyAtIDEpICogX3VucmVmKGNvbHMpICsgY29sIC0gMV1bJ21vZHVsZXMnXVsxXS5jdXJyR01WLCBfdW5yZWYocHJvZ3JhbXMpWyhyb3cgLSAxKSAqIF91bnJlZihjb2xzKSArIGNvbCAtIDFdWydtb2R1bGVzJ11bMV0ubWF4R01WKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsicGVyY2VudGFnZSIsICJmb3JtYXQiXSldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9uc19pdGVtLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiU3ltYm9scyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKF91bnJlZihwcm9ncmFtcylbKHJvdyAtIDEpICogX3VucmVmKGNvbHMpICsgY29sIC0gMV1bJ21vZHVsZXMnXVsyXS5zeW1ib2xzKSwgMSldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9uc19pdGVtLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiRW5nYWdlZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKF91bnJlZihwcm9ncmFtcylbKHJvdyAtIDEpICogX3VucmVmKGNvbHMpICsgY29sIC0gMV1bJ21vZHVsZXMnXVsyXS5lbmdhZ2VkKSwgMSldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldOwogICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgXzogMgogICAgICAgICAgICAgICAgICAgICAgfSwgMTAyNCk7CiAgICAgICAgICAgICAgICAgICAgfSksIDEyOCkpXTsKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIF86IDIKICAgICAgICAgICAgICAgIH0sIDEwMjQpOwogICAgICAgICAgICAgIH0pLCAxMjgpKV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYXNpZGUsIHsKICAgICAgICAgICAgd2lkdGg6ICI2MDBweCIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2NhcmQsIHsKICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAiMHB4IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfdW5yZWYoYWN0aXZlUGdJZHgpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKF91bnJlZihwcm9ncmFtcylbX3VucmVmKGFjdGl2ZVBnSWR4KV0ubmFtZSArICJAIiArIF91bnJlZihwcm9ncmFtcylbX3VucmVmKGFjdGl2ZVBnSWR4KV0uaG9zdCksIDEpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF91bnJlZihhY3RpdmVQZ0lkeCkgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9kZXNjcmlwdGlvbnMsIHsKICAgICAgICAgICAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICIiLAogICAgICAgICAgICAgICAgICAgIGNvbHVtbjogMSwKICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICIiCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9uc19pdGVtLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiT3JkZXJzL1RyYWRlcy9GYWlscyIsCiAgICAgICAgICAgICAgICAgICAgICAgICJsYWJlbC1hbGlnbiI6ICJjZW50ZXIiLAogICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICJsYWJlbC1jbGFzcy1uYW1lIjogIm15LWxhYmVsIiwKICAgICAgICAgICAgICAgICAgICAgICAgImNsYXNzLW5hbWUiOiAibXktY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAiMTUwcHgiCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2JhZGdlLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3VucmVmKHByb2dyYW1zKVtfdW5yZWYoYWN0aXZlUGdJZHgpXVsnbW9kdWxlcyddWzBdLmZhaWxzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAxMDAwMDAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAiaXRlbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAicHJpbWFyeSIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbInZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9iYWRnZSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF91bnJlZihwcm9ncmFtcylbX3VucmVmKGFjdGl2ZVBnSWR4KV1bJ21vZHVsZXMnXVswXS50cmFkZXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDEwMDAwMDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJpdGVtIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IgogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsidmFsdWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2JhZGdlLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3VucmVmKHByb2dyYW1zKVtfdW5yZWYoYWN0aXZlUGdJZHgpXVsnbW9kdWxlcyddWzBdLmZhaWxzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAxMDAwMDAwMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAiaXRlbSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsidmFsdWUiXSldOwogICAgICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Rlc2NyaXB0aW9uc19pdGVtLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAiR01WIiwKICAgICAgICAgICAgICAgICAgICAgICAgImxhYmVsLWFsaWduIjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wcm9ncmVzcywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInRleHQtaW5zaWRlIjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdHJva2Utd2lkdGgiOiAyNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IF91bnJlZihwcm9ncmFtcylbX3VucmVmKGFjdGl2ZVBnSWR4KV1bJ21vZHVsZXMnXVsxXS5jdXJyR01WICogMTAwIC8gX3VucmVmKHByb2dyYW1zKVtfdW5yZWYoYWN0aXZlUGdJZHgpXVsnbW9kdWxlcyddWzFdLm1heEdNViwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZm9ybWF0R01WKF91bnJlZihwcm9ncmFtcylbX3VucmVmKGFjdGl2ZVBnSWR4KV1bJ21vZHVsZXMnXVsxXS5jdXJyR01WLCBfdW5yZWYocHJvZ3JhbXMpW191bnJlZihhY3RpdmVQZ0lkeCldWydtb2R1bGVzJ11bMV0ubWF4R01WKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJwZXJjZW50YWdlIiwgImZvcm1hdCJdKV07CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZGVzY3JpcHRpb25zX2l0ZW0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJTeW1ib2xzIiwKICAgICAgICAgICAgICAgICAgICAgICAgImxhYmVsLWFsaWduIjogImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIgogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wcm9ncmVzcywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInRleHQtaW5zaWRlIjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzdHJva2Utd2lkdGgiOiAyNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IF91bnJlZihwcm9ncmFtcylbX3VucmVmKGFjdGl2ZVBnSWR4KV1bJ21vZHVsZXMnXVsyXS5lbmdhZ2VkICogMTAwIC8gX3VucmVmKHByb2dyYW1zKVtfdW5yZWYoYWN0aXZlUGdJZHgpXVsnbW9kdWxlcyddWzJdLnN5bWJvbHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGZvcm1hdFN5bWJvbHMoX3VucmVmKHByb2dyYW1zKVtfdW5yZWYoYWN0aXZlUGdJZHgpXVsnbW9kdWxlcyddWzJdLnN5bWJvbHMsIF91bnJlZihwcm9ncmFtcylbX3VucmVmKGFjdGl2ZVBnSWR4KV1bJ21vZHVsZXMnXVsyXS5lbmdhZ2VkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJwZXJjZW50YWdlIiwgImZvcm1hdCJdKV07CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgICAgICAgICB9KV07CiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgICB9KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV07CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICB9KSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwgX3dpdGhEaXJlY3RpdmVzKChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzksIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KF91bnJlZihsb2dzKSwgZnVuY3Rpb24gKGxvZywgaW5kZXgpIHsKICAgICAgICAgICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJzY3JvbGwtaXRlbSIsCiAgICAgICAgICAgICAgICAgIHN0eWxlOiBfbm9ybWFsaXplU3R5bGUobG9nLmNvbG9yKQogICAgICAgICAgICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8xMCwgX3RvRGlzcGxheVN0cmluZyhmb3JtYXRMb2dUaXRsZShpbmRleCkpLCAxKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgicCIsIF9ob2lzdGVkXzExLCBfdG9EaXNwbGF5U3RyaW5nKGxvZy50ZXh0KSwgMSldLCA0KTsKICAgICAgICAgICAgICB9KSwgMTI4KSldKSksIFtbX2RpcmVjdGl2ZV9zY3JvbGxCb3R0b21dXSldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSldLCA2NCk7CiAgICB9OwogIH0KfSk7"},{"version":3,"mappings":"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","names":["defineComponent","_defineComponent","createTextVNode","_createTextVNode","resolveComponent","_resolveComponent","withCtx","_withCtx","createVNode","_createVNode","unref","_unref","renderList","_renderList","Fragment","_Fragment","openBlock","_openBlock","createElementBlock","_createElementBlock","toDisplayString","_toDisplayString","createBlock","_createBlock","createElementVNode","_createElementVNode","normalizeClass","_normalizeClass","createCommentVNode","_createCommentVNode","normalizeStyle","_normalizeStyle","resolveDirective","_resolveDirective","withDirectives","_withDirectives","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","key","class","_hoisted_9","style","_hoisted_10","_hoisted_11","reactive","onBeforeUnmount","ref","watch","ElMessage","dealResponseCode","formatTime","WEEK","name","setup","__props","timeInfo","setInterval","dateDay","dateYear","dateWeek","formatTimeInfo","date","Date","getDay","handleTime","host","grouped","hosts","onlyShowAlert","actualPrograms","programs","logs","activeGroupIdx","activePgIdx","activeSelection","isGrouping","socket","socketUrl","createNewSocket","undefined","close","WebSocket","onopen","onmessage","parseSocketMsg","onerror","message","grouping","type","onclose","handleSelect","keyPath","value","process","env","VUE_APP_WEBSOCKET_URL","formatLogTitle","index","program","id","ctime","setOpacity","isOpacity","replace","newValue","oldValue","normal","abnormal","indexOf","push","concat","rows","Math","ceil","length","cols","console","log","group","newProgram","modules","orders","trades","fails","currGMV","maxGMV","symbols","engaged","enterBox","leaveBox","logContainer","visible","query","from","to","number","numberKeys","tableRowClassName","row","rowIndex","second","since","formatGMV","formatSymbols","msg","response","JSON","parse","data","successHandler","i","level","color","text","groups","opacity","idx","pid","reboots","newModule","oldModule","slice","failHandler","error","showDrawer","_ctx","_cache","_component_el_menu_item","_component_el_sub_menu","_component_el_menu","_component_el_descriptions_item","_component_el_tag","_component_el_progress","_component_el_descriptions","_component_el_popover","_component_el_col","_component_el_row","_component_el_main","_component_el_badge","_component_el_card","_component_el_aside","_component_el_container","_directive_scrollBottom","mode","onSelect","default","_","title","disabled","gutter","col","span","width","trigger","reference","onMouseenter","$event","onMouseleave","direction","column","size","border","label","percentage","format","align","max","status"],"sourceRoot":"","sources":["/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Collapsed \")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"Host\")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Strategy\")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"Organize\")\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" Sequential \")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" Organized \")\nconst _hoisted_7 = [\"onMouseenter\"]\nconst _hoisted_8 = {\n  key: 0,\n  class: \"clearfix\"\n}\nconst _hoisted_9 = {\n  class: \"scroll\",\n  style: {\"height\":\"100%\"}\n}\nconst _hoisted_10 = { style: {\"font-size\":\"15px\"} }\nconst _hoisted_11 = { style: {\"font-size\":\"15px\"} }\n\nimport {\n  reactive,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  watch,\n} from \"vue\";\n// import EntryDrawer from './components/entrydrawer.vue'\nimport http from \"@/utils/network/http\";\nimport { ElMessage } from \"_element-plus@1.2.0-beta.6@element-plus/es\";\nimport { dealResponseCode } from \"@/utils/functions\";\nimport { formatTime } from \"@/utils/index\";\nimport { subtitle, WEEK } from \"@/constant/index\";\n// import scroll from \"vue-seamless-scroll\";\n\n// const currentDate = ref(new Date())\n// let entry_drawer = ref(null)\n// const programsNum = ref(0)\n\n\nexport default /*#__PURE__*/_defineComponent({\n  name: 'index',\n  setup(__props) {\n\nconst timeInfo = reactive({\n  setInterval: 0,\n  dateDay: \"\",\n  dateYear: \"\",\n  dateWeek: \"\",\n});\n\nconst formatTimeInfo = () => {\n  const date = new Date();\n  timeInfo.dateDay = formatTime(date, \"HH: mm: ss\");\n  timeInfo.dateYear = formatTime(date, \"yyyy-MM-dd\");\n  timeInfo.dateWeek = WEEK[date.getDay()];\n};\n\nconst handleTime = () => {\n  timeInfo.setInterval = setInterval(() => {\n    formatTimeInfo();\n  }, 1000);\n};\n\nformatTimeInfo();\nhandleTime();\n\nlet host = ref(null);\n// const hosts = [\n//   {\n//     value: \"fpis_kbsiml14\",\n//     label: \"fpis_kbsiml14\",\n//   },\n//   {\n//     value: \"fpis_kbsiml35\",\n//     label: \"fpis_kbsiml35\",\n//   },\n//   {\n//     value: \"fpis_kbsiml66\",\n//     label: \"fpis_kbsiml66\",\n//   },\n// ];\n\nlet grouped = ref([]);\nlet hosts = ref([]);\n\nlet onlyShowAlert = ref(false);\nlet actualPrograms = ref([]); // the stored whole programs\nlet programs = ref([]); // for show\n\nlet logs = ref([]);\nconst activeGroupIdx = ref(null);\nlet activePgIdx = ref(null);\nconst activeSelection = ref(\"all\");\nlet isGrouping = ref(false);\n\nlet socket, socketUrl;\nconst createNewSocket = () => {\n  if (socket !== undefined) {\n    socket.close();\n  }\n\n  socket = new WebSocket(socketUrl);\n\n  socket.onopen = function () {\n    // console.log(\"socket opened...\");\n    // socket.send(JSON.stringify({username: \"bliu\",msg: \"test websocket\"}));\n  };\n\n  socket.onmessage = parseSocketMsg;\n\n  socket.onerror = function () {\n    ElMessage({\n      message: \"Websocket error\",\n      grouping: true,\n      type: \"error\",\n    });\n  };\n\n  socket.onclose = function () {\n    // console.log(\"Websocket closed......\");\n  };\n};\n\nconst handleSelect = (key: string, keyPath: string[]) => {\n  if (keyPath[0] == \"organize\") {\n    onlyShowAlert.value = key == \"Alert Only\";\n    isGrouping.value = false;\n    return;\n  }\n\n  if (keyPath[0] == \"all\") {\n    isGrouping.value = true;\n    // socketUrl = \"ws://192.168.0.120:6919/quoter/all/all\";\n    // socketUrl = \"ws://7.151.16.99:6919/quoter/all/all\";\n    socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/all/all\";\n  } else if (keyPath[0] == \"host\") {\n    isGrouping.value = false;\n    // socketUrl = \"ws://192.168.0.120:6919/quoter/host/\" + key;\n    socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/host/\" + key;\n    // socketUrl = \"ws://7.151.16.99:6919/quoter/host/\" + key\n  } else if (keyPath[0] == \"strategy\") {\n    isGrouping.value = false;\n    // socketUrl = \"ws://192.168.0.120:6919/quoter/strategy/\" + key;\n    socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/strategy/\" + key;\n    // socketUrl = \"ws://7.151.16.99:6919/quoter/strategy/\" + key\n  }\n\n  createNewSocket();\n};\n\nconst formatLogTitle = (index) => {\n  for (var program of actualPrograms.value) {\n    if (logs.value[index].id === program.id) {\n      return (\n        \"[\" +\n        logs.value[index].ctime +\n        \"]:\" +\n        program.name +\n        \"@\" +\n        hosts.value[program.host - 1].name\n      );\n    }\n  }\n};\n\nconst setOpacity = (index, isOpacity) => {\n  if (isOpacity) {\n    programs.value[index].class = programs.value[index].class + \" opacity\";\n  } else {\n    programs.value[index].class = programs.value[index].class.replace(\n      /opacity/g,\n      \"\"\n    );\n  }\n};\n\nwatch(onlyShowAlert, (newValue, oldValue) => {\n  if (newValue) {\n    programs.value = [];\n    var normal = [];\n    var abnormal = [];\n    for (var program of actualPrograms.value) {\n      if (program[\"class\"].indexOf(\"alert\") !== -1) {\n        abnormal.push(program);\n      } else {\n        normal.push(program);\n      }\n    }\n    programs.value = normal.concat(abnormal);\n  } else {\n    programs.value = actualPrograms.value;\n  }\n  rows.value = Math.ceil(programs.value.length / cols.value);\n});\n\nwatch(activeGroupIdx, (newValue, oldValue) => {\n  console.log(newValue, \"<----\", oldValue);\n  if (newValue == null) {\n    if (isGrouping.value) {\n      programs.value = [];\n      for (var group of grouped.value) {\n        var newProgram = null;\n        for (var program of actualPrograms.value) {\n          if (program.group == group.id) {\n            if (program[\"class\"].indexOf(\"alert\") !== -1) {\n              newProgram = {\n                group: group.id,\n                name: group.name,\n                class: \"alert\",\n                modules: [\n                  { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                  { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                  { name: \"component3\", symbols: 0, engaged: 0 },\n                ],\n              };\n            } else {\n              newProgram = {\n                group: group.id,\n                name: group.name,\n                class: \"normal\",\n                modules: [\n                  { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                  { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                  { name: \"component3\", symbols: 0, engaged: 0 },\n                ],\n              };\n            }\n          }\n        }\n        if (newProgram !== null) {\n          programs.value.push(newProgram);\n        }\n      }\n    }\n\n    for (program of programs.value) {\n      program.class = program.class.replace(/opacity/g, \"\");\n    }\n  } else {\n    if (isGrouping.value) {\n      programs.value = [];\n      for (group of grouped.value) {\n        if (group.id === newValue) {\n          for (program of actualPrograms.value) {\n            if (program.group === newValue) {\n              programs.value.push(program);\n            }\n          }\n        } else {\n          newProgram = null;\n          for (program of actualPrograms.value) {\n            if (program.group == group.id) {\n              if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                newProgram = {\n                  group: group.id,\n                  name: group.name,\n                  class: \"alert\",\n                  modules: [\n                    { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                    { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                    { name: \"component3\", symbols: 0, engaged: 0 },\n                  ],\n                };\n                break;\n              } else {\n                newProgram = {\n                  group: group.id,\n                  name: group.name,\n                  class: \"normal\",\n                  modules: [\n                    { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                    { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                    { name: \"component3\", symbols: 0, engaged: 0 },\n                  ],\n                };\n              }\n            } else if (newProgram !== null) {\n              break;\n            }\n          }\n          if (newProgram !== null) {\n            programs.value.push(newProgram);\n          }\n        }\n      }\n    }\n    for (program of programs.value) {\n      if (program.group != newValue) {\n        program.class = program.class + \" opacity\";\n      } else {\n        program.class = program.class.replace(/opacity/g, \"\");\n        // ElMessage({\n        //   message: grouped.value[program.group].name,\n        //   grouping: true,\n        //   type: \"success\",\n        // });\n      }\n    }\n\n    // var oldGroupIdx = -1,\n    //   newGroupIdx = -1;\n    // for (var group of grouped.value) {\n    //   var idx = group.programs.indexOf(newValue);\n    //   if (idx !== -1) {\n    //     newGroupIdx = idx;\n    //     for (idx of group.programs) {\n    //       setOpacity(idx, false);\n    //     }\n    //   }\n    //   if (oldValue !== null) {\n    //     idx = group.programs.indexOf(oldValue);\n    //     if (idx !== -1) {\n    //       oldGroupIdx = idx;\n    //     }\n    //   }\n\n    //   if ((oldGroupIdx !== -1 || oldValue == null) && newGroupIdx !== -1) {\n    //     break;\n    //   }\n    // }\n  }\n});\nconst enterBox = (index) => {\n  activePgIdx.value = index;\n  console.log(\"programs:\", programs.value);\n  activeGroupIdx.value = programs.value[index].group;\n  // console.log(\"enter...\");\n  // for ( var i = 0; i < programs.value.length; ++i) {\n  //   console.log(\"Before\", programs.value[i].class)\n  //   programs.value[i].class.replace(/opacity/g, \"\")\n  //   if ( i != index ) {\n  //     programs.value[i].class += \" opacity\"\n  //   }\n  //   console.log(\"After\", programs.value[i].class)\n  // }\n};\n\nconst leaveBox = () => {\n  console.log(\"leave...\");\n  activePgIdx.value = null;\n  activeGroupIdx.value = null;\n  // for ( var i = 0; i < programs.value.length; ++i) {\n  //   programs.value[i].class.replace(/opacity/g, \"\")\n  // }\n};\n\nconst logContainer = ref(null);\nlet rows = ref(0);\nlet cols = ref(24);\nlet visible = ref(false);\n// let queryTimer = ref(null)\nlet query = {\n  from: null,\n  to: null,\n  name: null,\n  number: null,\n};\nconst numberKeys = [\"orders\", \"trades\", \"fails\", \"currGMV\", \"maxGMV\"];\n\n// let programs_keys = ref([]);\n\nonBeforeUnmount(() => {\n  console.log(\"onBeforeUnmount\");\n  //   stopQueryStatus()\n});\n\nconst tableRowClassName = ({ row, rowIndex }) => {\n  console.log(\"row....\", row.second.fails, row.second.fails > 300);\n  if (row.second.fails > 300) {\n    return \"error-row\";\n  } else if (row.second.since == \"\") {\n    return \"warning-row\";\n  }\n  return \"\";\n};\n\nconst formatGMV = (currGMV, maxGMV) => {\n  return () => {\n    return \"Curr:\" + currGMV; // + \",Max:\" + maxGMV;\n  };\n};\n\nconst formatSymbols = (symbols, engaged) => {\n  return () => {\n    return \"Symbols:\" + symbols + \",Engaged: \" + engaged;\n  };\n};\n\nconst parseSocketMsg = (msg) => {\n  var response = JSON.parse(msg.data);\n  console.log(\"response\");\n  console.log(response);\n  dealResponseCode(\n    response,\n    function successHandler() {\n      // first time: get the whole programs\n      if (response.data.programs !== undefined) {\n        onlyShowAlert.value = false;\n        actualPrograms.value = [];\n        programs.value = [];\n        grouped.value = [];\n        hosts.value = [];\n        logs.value = [];\n        rows.value = 0;\n        activePgIdx.value = null;\n        activeGroupIdx.value = null;\n\n        if (response.data.logs !== undefined) {\n          for (i = 0; i < response.data.logs.length; ++i) {\n            if (response.data.logs[i].level == \"0\") {\n              var color = \"color: #67c23a\"; // success\n            } else if (response.data.logs[i].level == \"1\") {\n              color = \"color: #e6a23c\"; // warning\n            } else if (response.data.logs[i].level == \"2\") {\n              color = \"color: #ff1602\"; // alert #f56c6c #f20c00\n            } else {\n              color = \"color: #909399\";\n            }\n            logs.value.push({\n              id: response.data.logs[i].program,\n              text: response.data.logs[i].text,\n              level: response.data.logs[i].level,\n              color: color,\n              ctime: response.data.logs[i].ctime,\n            });\n          }\n        }\n\n        grouped.value = response.data.groups;\n        for (var i = 0; i < grouped.value.length; ++i) {\n          grouped.value[i].opacity = 1;\n        }\n        console.log(\"coming hosts...\");\n        console.log(response.data.hosts);\n        hosts.value = response.data.hosts;\n        console.log(\"parsed hosts\");\n        console.log(hosts.value);\n        actualPrograms.value = response.data.programs;\n\n        for (i = 0; i < actualPrograms.value.length; ++i) {\n          if (actualPrograms.value[i].modules == undefined) {\n            actualPrograms.value[i].modules = [];\n            actualPrograms.value[i][\"class\"] = \"dead blink-border\";\n          } else if (\n            actualPrograms.value[i].modules[0].fails >\n            actualPrograms.value[i].modules[0].trades\n          ) {\n            actualPrograms.value[i][\"class\"] = \"alert\";\n          } else {\n            actualPrograms.value[i][\"class\"] = \"normal\";\n          }\n        }\n\n        if (isGrouping.value) {\n          for (var group of grouped.value) {\n            var newProgram = null;\n            for (var program of actualPrograms.value) {\n              if (program.group == group.id) {\n                if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                  newProgram = {\n                    group: group.id,\n                    name: group.name,\n                    class: \"alert\",\n                    modules: [\n                      { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                      { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                      { name: \"component3\", symbols: 0, engaged: 0 },\n                    ],\n                  };\n                } else {\n                  newProgram = {\n                    group: group.id,\n                    name: group.name,\n                    class: \"normal\",\n                    modules: [\n                      { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                      { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                      { name: \"component3\", symbols: 0, engaged: 0 },\n                    ],\n                  };\n                }\n              }\n            }\n            if (newProgram !== null) {\n              programs.value.push(newProgram);\n            }\n          }\n        } else {\n          programs.value = actualPrograms.value;\n        }\n\n        console.log(\"Programs: \", programs.value);\n        console.log(\"actualPrograms: \", actualPrograms.value);\n      } else {\n        program = response.data.program;\n        for (var idx = 0; idx < actualPrograms.value.length; ++idx) {\n          if (actualPrograms.value[idx].id == program.id) {\n            break;\n          }\n        }\n\n        actualPrograms.value[idx].group = program.group;\n        actualPrograms.value[idx].host = program.host;\n        actualPrograms.value[idx].pid = program.pid;\n        actualPrograms.value[idx].reboots = program.reboots;\n\n        actualPrograms.value[idx][\"class\"] = actualPrograms.value[idx][\n          \"class\"\n        ].replace(/alert/g, \"normal\");\n        for (var newModule of program[\"modules\"]) {\n          if (\n            newModule[\"name\"] == \"component2\" &&\n            newModule[\"fails\"] > newModule[\"trades\"]\n          ) {\n            actualPrograms.value[idx][\"class\"] = \"alert\";\n          }\n        }\n\n        for (newModule of program[\"modules\"]) {\n          for (var oldModule of actualPrograms.value[idx][\"modules\"]) {\n            if (newModule[\"name\"] == oldModule[\"name\"]) {\n              oldModule = newModule;\n            }\n          }\n          if (newModule[\"name\"] == \"log\") {\n            if (newModule[\"level\"] == \"0\") {\n              color = \"color: #67c23a\"; // success\n            } else if (newModule[\"level\"] == \"1\") {\n              color = \"color: #e6a23c\"; // warning\n            } else if (newModule[\"level\"] == \"2\") {\n              color = \"color: #ff1602\"; // alert #f56c6c #f20c00\n            } else {\n              color = \"color: #909399\";\n            }\n            logs.value.push({\n              id: program.id,\n              text: newModule[\"text\"],\n              level: newModule[\"level\"],\n              color: color,\n              ctime: newModule[\"ctime\"],\n            });\n          }\n        }\n        if (logs.value.length > 40) {\n          logs.value = logs.value.slice(logs.value.length - 40);\n        }\n\n        programs.value = [];\n        if (isGrouping.value) {\n          if (activeGroupIdx.value !== null) {\n            for (group of grouped.value) {\n              if (group.id === activeGroupIdx.value) {\n                for (program of actualPrograms.value) {\n                  if (program.group === activeGroupIdx.value) {\n                    programs.value.push(program);\n                  }\n                }\n              } else {\n                newProgram = null;\n                for (program of actualPrograms.value) {\n                  if (program.group == group.id) {\n                    if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                      newProgram = {\n                        group: group.id,\n                        name: group.name,\n                        class: \"alert\",\n                        modules: [\n                          {\n                            name: \"component1\",\n                            orders: 0,\n                            trades: 0,\n                            fails: 0,\n                          },\n                          { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                          { name: \"component3\", symbols: 0, engaged: 0 },\n                        ],\n                      };\n                      break;\n                    } else {\n                      newProgram = {\n                        group: group.id,\n                        name: group.name,\n                        class: \"normal\",\n                        modules: [\n                          {\n                            name: \"component1\",\n                            orders: 0,\n                            trades: 0,\n                            fails: 0,\n                          },\n                          { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                          { name: \"component3\", symbols: 0, engaged: 0 },\n                        ],\n                      };\n                    }\n                  } else if (newProgram !== null) {\n                    break;\n                  }\n                }\n                if (newProgram !== null) {\n                  programs.value.push(newProgram);\n                }\n              }\n            }\n          } else {\n            for (group of grouped.value) {\n              newProgram = null;\n              for (program of actualPrograms.value) {\n                if (program.group == group.id) {\n                  if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                    newProgram = {\n                      group: group.id,\n                      name: group.name,\n                      class: \"alert\",\n                      modules: [\n                        { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                        { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                        { name: \"component3\", symbols: 0, engaged: 0 },\n                      ],\n                    };\n                    break;\n                  } else {\n                    newProgram = {\n                      group: group.id,\n                      name: group.name,\n                      class: \"normal\",\n                      modules: [\n                        { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                        { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                        { name: \"component3\", symbols: 0, engaged: 0 },\n                      ],\n                    };\n                  }\n                } else if (newProgram !== null) {\n                  break;\n                }\n              }\n              if (newProgram !== null) {\n                programs.value.push(newProgram);\n              }\n            }\n          }\n        } else if (onlyShowAlert.value) {\n          var normal = [];\n          var abnormal = [];\n          for (program of actualPrograms.value) {\n            if (program[\"class\"].indexOf(\"alert\") !== -1) {\n              abnormal.push(program);\n            } else {\n              normal.push(program);\n            }\n          }\n          programs.value = normal.concat(abnormal);\n        } else {\n          programs.value = actualPrograms.value;\n        }\n      }\n      rows.value = Math.ceil(programs.value.length / cols.value);\n    },\n    function failHandler() {\n      ElMessage.error(\"failure\" + \":\" + response.msg);\n    },\n    () => {\n      // nothing\n    }\n  );\n};\n\n// const startQueryStatus = () => {\n//   console.log(\"query...\");\n//   //   let url = 'quoter/all'\n//   query.from = 0;\n//   query.to = \"jump trading\";\n\n//   http.get(\"quoter/all\", query, Object).then((response) => {\n//     programs.value = response.data.quoters;\n//   });\n// };\n\n// const stopQueryStatus = () => {\n//   clearInterval(queryTimer.value)\n//   queryTimer.value = null\n// }\n\n// const handleClickCard = (row, col) => {\n//     console.log(row, col)\n// }\n\n// const enterThumbnail = (index) => {\n//   console.log(index);\n//   console.log(programs.value[index]);\n//   programs.value[index].isShowPopOver = true;\n// };\n\n// const leaveThumnail = (index) => {\n//   programs.value[index].isShowPopOver = false;\n// };\n\n// const clickPop = (index) => {\n//   if (activeId.value == index && showPop.value) return;\n//   showPop.value = false;\n//   activeId.value = index;\n//   nextTick(() => {\n//     showPop.value = true;\n//     nextTick(() => {\n//       pop.value?.doShow();\n//     });\n//   });\n// };\n\nconst showDrawer = () => {\n  console.log(\"clicked\");\n  visible.value = true;\n  // entry_drawer.value.show(programs)\n};\n\n// queryTimer.value = setInterval(startQueryStatus, 10000)\n\n// startQueryStatus()\n\nif (typeof WebSocket == \"undefined\") {\n  ElMessage({\n    message: \"Websocket is unsupported, please use Chrome\",\n    grouping: true,\n    type: \"error\",\n  });\n} else {\n  // const socketUrl = 'ws://localhost:6919/wx/?level=all&key=all'\n  // socketUrl = \"ws://7.151.16.99:6919/quoter/all/all\";\n  socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/all/all\";\n  createNewSocket();\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\")!\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\")!\n  const _component_el_menu = _resolveComponent(\"el-menu\")!\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_progress = _resolveComponent(\"el-progress\")!\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\")!\n  const _component_el_popover = _resolveComponent(\"el-popover\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_el_row = _resolveComponent(\"el-row\")!\n  const _component_el_main = _resolveComponent(\"el-main\")!\n  const _component_el_badge = _resolveComponent(\"el-badge\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_el_aside = _resolveComponent(\"el-aside\")!\n  const _component_el_container = _resolveComponent(\"el-container\")!\n  const _directive_scrollBottom = _resolveDirective(\"scrollBottom\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", null, [\n      _createVNode(_component_el_menu, {\n        \"default-active\": activeSelection.value,\n        mode: \"horizontal\",\n        \"background-color\": \"black\",\n        \"text-color\": \"white\",\n        onSelect: handleSelect\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_menu_item, {\n            index: \"all\",\n            style: {\"background-color\":\"rgba(0, 0, 0, 0.1) !important\"}\n          }, {\n            default: _withCtx(() => [\n              _hoisted_1\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_sub_menu, { index: \"host\" }, {\n            title: _withCtx(() => [\n              _hoisted_2\n            ]),\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(hosts), (host, index) => {\n                return (_openBlock(), _createBlock(_component_el_menu_item, {\n                  key: index,\n                  index: host.name\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(host.name), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"index\"]))\n              }), 128))\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_sub_menu, { index: \"strategy\" }, {\n            title: _withCtx(() => [\n              _hoisted_3\n            ]),\n            default: _withCtx(() => [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(grouped), (group, index) => {\n                return (_openBlock(), _createBlock(_component_el_menu_item, {\n                  key: index,\n                  index: group.name\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(group.name), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"index\"]))\n              }), 128))\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_sub_menu, { index: \"organize\" }, {\n            title: _withCtx(() => [\n              _hoisted_4\n            ]),\n            default: _withCtx(() => [\n              _createVNode(_component_el_menu_item, { index: \"All\" }, {\n                default: _withCtx(() => [\n                  _hoisted_5\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_el_menu_item, { index: \"Alert Only\" }, {\n                default: _withCtx(() => [\n                  _hoisted_6\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_menu_item, {\n            index: \"time\",\n            disabled: \"\",\n            style: {\"position\":\"absolute\",\"right\":\"0px\"}\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(timeInfo.dateYear) + \" \" + _toDisplayString(timeInfo.dateWeek) + \" \" + _toDisplayString(timeInfo.dateDay), 1)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"default-active\"])\n    ]),\n    _createVNode(_component_el_container, { style: {\"height\":\"100%\"} }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_main, null, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(rows), (row) => {\n              return (_openBlock(), _createBlock(_component_el_row, {\n                gutter: 5,\n                key: row,\n                style: {\"margin-top\":\"0px\"}\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(cols), (col) => {\n                    return (_openBlock(), _createBlock(_component_el_col, {\n                      span: 1,\n                      key: col,\n                      style: {\"padding\":\"0px\"}\n                    }, {\n                      default: _withCtx(() => [\n                        ((row - 1) * _unref(cols) + col - 1 < _unref(programs).length)\n                          ? (_openBlock(), _createBlock(_component_el_popover, {\n                              key: 0,\n                              width: 600,\n                              trigger: \"hover\"\n                            }, {\n                              reference: _withCtx(() => [\n                                _createElementVNode(\"div\", {\n                                  class: _normalizeClass([\"thumbnail-box content\", _unref(programs)[(row - 1) * _unref(cols) + col - 1].class]),\n                                  onMouseenter: ($event: any) => (enterBox((row - 1) * _unref(cols) + col - 1)),\n                                  onMouseleave: leaveBox\n                                }, _toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1].name), 43, _hoisted_7)\n                              ]),\n                              default: _withCtx(() => [\n                                _createVNode(_component_el_descriptions, {\n                                  title: \"Program Details\",\n                                  direction: \"vertical\",\n                                  column: 7,\n                                  size: \"large\",\n                                  border: \"\"\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_el_descriptions_item, {\n                                      label: \"Program\",\n                                      span: 3\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1].name), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, {\n                                      label: \"Host\",\n                                      span: 2\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1].host), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, { label: \"Pid\" }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1].pid), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, { label: \"Reboots\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_tag, { type: \"danger\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1].reboots), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, { label: \"Orders\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_tag, { type: \"success\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][0].orders), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, { label: \"Trades\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_tag, { type: \"success\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][0].trades), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, { label: \"Fails\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_tag, { type: \"danger\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][0].fails), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, {\n                                      label: \"CurrGMV / MaxGMV\",\n                                      span: 2\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_progress, {\n                                          \"text-inside\": true,\n                                          \"stroke-width\": 24,\n                                          percentage: _unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][1].currGMV * 100 / _unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][1].maxGMV,\n                                          format: formatGMV(_unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][1].currGMV, _unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][1].maxGMV)\n                                        }, null, 8, [\"percentage\", \"format\"])\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, { label: \"Symbols\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_tag, { type: \"success\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][2].symbols), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_el_descriptions_item, { label: \"Engaged\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_el_tag, { type: \"success\" }, {\n                                          default: _withCtx(() => [\n                                            _createTextVNode(_toDisplayString(_unref(programs)[(row - 1) * _unref(cols) + col - 1]['modules'][2].engaged), 1)\n                                          ]),\n                                          _: 2\n                                        }, 1024)\n                                      ]),\n                                      _: 2\n                                    }, 1024)\n                                  ]),\n                                  _: 2\n                                }, 1024)\n                              ]),\n                              _: 2\n                            }, 1024))\n                          : _createCommentVNode(\"\", true)\n                      ]),\n                      _: 2\n                    }, 1024))\n                  }), 128))\n                ]),\n                _: 2\n              }, 1024))\n            }), 128))\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_aside, { width: \"600px\" }, {\n          default: _withCtx(() => [\n            (0)\n              ? (_openBlock(), _createBlock(_component_el_card, {\n                  key: 0,\n                  style: {\"height\":\"0px\"}\n                }, {\n                  default: _withCtx(() => [\n                    (_unref(activePgIdx))\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                          _createElementVNode(\"span\", null, _toDisplayString(_unref(programs)[_unref(activePgIdx)].name + \"@\" + _unref(programs)[_unref(activePgIdx)].host), 1)\n                        ]))\n                      : _createCommentVNode(\"\", true),\n                    (_unref(activePgIdx))\n                      ? (_openBlock(), _createBlock(_component_el_descriptions, {\n                          key: 1,\n                          title: \"\",\n                          column: 1,\n                          border: \"\"\n                        }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_el_descriptions_item, {\n                              label: \"Orders/Trades/Fails\",\n                              \"label-align\": \"center\",\n                              align: \"center\",\n                              \"label-class-name\": \"my-label\",\n                              \"class-name\": \"my-content\",\n                              width: \"150px\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_el_badge, {\n                                  value: _unref(programs)[_unref(activePgIdx)]['modules'][0].fails,\n                                  max: 10000000,\n                                  class: \"item\",\n                                  type: \"primary\"\n                                }, null, 8, [\"value\"]),\n                                _createVNode(_component_el_badge, {\n                                  value: _unref(programs)[_unref(activePgIdx)]['modules'][0].trades,\n                                  max: 10000000,\n                                  class: \"item\",\n                                  type: \"primary\"\n                                }, null, 8, [\"value\"]),\n                                _createVNode(_component_el_badge, {\n                                  value: _unref(programs)[_unref(activePgIdx)]['modules'][0].fails,\n                                  max: 10000000,\n                                  class: \"item\",\n                                  type: \"danger\"\n                                }, null, 8, [\"value\"])\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_el_descriptions_item, {\n                              label: \"GMV\",\n                              \"label-align\": \"center\",\n                              align: \"center\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_el_progress, {\n                                  \"text-inside\": true,\n                                  \"stroke-width\": 24,\n                                  percentage: _unref(programs)[_unref(activePgIdx)]['modules'][1].currGMV * 100 / _unref(programs)[_unref(activePgIdx)]['modules'][1].maxGMV,\n                                  format: formatGMV(_unref(programs)[_unref(activePgIdx)]['modules'][1].currGMV, _unref(programs)[_unref(activePgIdx)]['modules'][1].maxGMV),\n                                  status: \"success\"\n                                }, null, 8, [\"percentage\", \"format\"])\n                              ]),\n                              _: 1\n                            }),\n                            _createVNode(_component_el_descriptions_item, {\n                              label: \"Symbols\",\n                              \"label-align\": \"center\",\n                              align: \"center\"\n                            }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_el_progress, {\n                                  \"text-inside\": true,\n                                  \"stroke-width\": 24,\n                                  percentage: _unref(programs)[_unref(activePgIdx)]['modules'][2].engaged * 100 / _unref(programs)[_unref(activePgIdx)]['modules'][2].symbols,\n                                  format: formatSymbols(_unref(programs)[_unref(activePgIdx)]['modules'][2].symbols, _unref(programs)[_unref(activePgIdx)]['modules'][2].engaged),\n                                  status: \"success\"\n                                }, null, 8, [\"percentage\", \"format\"])\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true),\n            _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(logs), (log, index) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  key: index,\n                  class: \"scroll-item\",\n                  style: _normalizeStyle(log.color)\n                }, [\n                  _createElementVNode(\"p\", _hoisted_10, _toDisplayString(formatLogTitle(index)), 1),\n                  _createElementVNode(\"p\", _hoisted_11, _toDisplayString(log.text), 1)\n                ], 4))\n              }), 128))\n            ])), [\n              [_directive_scrollBottom]\n            ])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64))\n}\n}\n\n})"]}]}