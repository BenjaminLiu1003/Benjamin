{"remainingRequest":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--15-3!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--14-0!/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/router/index.ts","dependencies":[{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/router/index.ts","mtime":1640653392000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/babel.config.js","mtime":1638601854000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhhc2hIaXN0b3J5IH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAibnByb2dyZXNzIjsKaW1wb3J0ICJucHJvZ3Jlc3MvbnByb2dyZXNzLmNzcyI7CmltcG9ydCBzdG9yYWdlIGZyb20gIkAvdXRpbHMvc3RvcmFnZS9pbmRleCI7CmltcG9ydCBMYXlvdXQgZnJvbSAiLi4vdmlld3MvbGF5b3V0L2xheW91dC52dWUiOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAiL2xvZ2luIiwKICBuYW1lOiAiTG9naW4iLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9sb2dpbi9pbmRleC52dWUiKTsKICB9Cn0sIHsKICBwYXRoOiAiLyIsCiAgbmFtZTogIkluZGV4IiwKICByZWRpcmVjdDogIi9kYXRhYmFzZSIsCiAgY29tcG9uZW50OiBMYXlvdXQgLy8gY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIkAvdmlld3MvaW5kZXgvaW5kZXgudnVlIikKCn0sIHsKICBwYXRoOiAiL3ByZXZpZXciLAogIGNvbXBvbmVudDogTGF5b3V0LAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogIiIsCiAgICBuYW1lOiAicHJldmlldyIsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9wcmV2aWV3L2luZGV4LnZ1ZSIpOwogICAgfQogIH1dCn0sIHsKICBwYXRoOiAiL2RhdGFiYXNlIiwKICBjb21wb25lbnQ6IExheW91dCwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICIiLAogICAgbmFtZTogImRhdGFiYXNlIiwKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCJAL3ZpZXdzL2RhdGFiYXNlL2luZGV4LnZ1ZSIpOwogICAgfQogIH1dCn1dOwp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLAogIHJvdXRlczogcm91dGVzCn0pOwp2YXIgd2hpdGVMaXN0ID0gWyIvbG9naW4iXTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgTlByb2dyZXNzLnN0YXJ0KCk7CiAgdmFyIHVzZXJJZCA9IHN0b3JhZ2UuZ2V0VXNlcklkKCk7CiAgdmFyIHVzZXJOYW1lID0gc3RvcmFnZS5nZXRVc2VyTmFtZSgpOwogIHZhciBoYXNMb2dnaW5lZCA9IHVzZXJJZCAmJiB1c2VySWQgIT09IDAgJiYgdXNlck5hbWUgJiYgdXNlck5hbWUgIT09ICIiOwoKICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSB7CiAgICBuZXh0KCk7CiAgfSBlbHNlIGlmIChoYXNMb2dnaW5lZCkgewogICAgbmV4dCgpOwogIH0gZWxzZSB7CiAgICBpZiAodG8ucGF0aCAhPT0gIi8iKSB7CiAgICAgIG5leHQoIi9sb2dpbj9yZWRpcmVjdD0iLmNvbmNhdCh0by5wYXRoKSk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCIvbG9naW4iKTsKICAgIH0KICB9Cn0pOwpyb3V0ZXIuYWZ0ZXJFYWNoKGZ1bmN0aW9uICgpIHsKICBOUHJvZ3Jlc3MuZG9uZSgpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"mappings":";;;AAAA,SACEA,YADF,EAGEC,oBAHF,QAKO,YALP;AAMA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AAEA,IAAMC,MAAM,GAA0B,CACpC;EACEC,IAAI,EAAE,QADR;EAEEC,IAAI,EAAE,OAFR;EAGEC,SAAS,EAAE;IAAA,OAAM,OAAO,yBAAP,CAAN;EAAA;AAHb,CADoC,EAMpC;EACEF,IAAI,EAAE,GADR;EAEEC,IAAI,EAAE,OAFR;EAGEE,QAAQ,EAAE,WAHZ;EAIED,SAAS,EAAEJ,MAJb,CAKE;;AALF,CANoC,EAapC;EACEE,IAAI,EAAE,UADR;EAEEE,SAAS,EAAEJ,MAFb;EAGEM,QAAQ,EAAE,CACR;IACEJ,IAAI,EAAE,EADR;IAEEC,IAAI,EAAE,SAFR;IAGEC,SAAS,EAAE;MAAA,OAAM,OAAO,2BAAP,CAAN;IAAA;EAHb,CADQ;AAHZ,CAboC,EAwBpC;EACEF,IAAI,EAAE,WADR;EAEEE,SAAS,EAAEJ,MAFb;EAGEM,QAAQ,EAAE,CACR;IACEJ,IAAI,EAAE,EADR;IAEEC,IAAI,EAAE,UAFR;IAGEC,SAAS,EAAE;MAAA,OAAM,OAAO,4BAAP,CAAN;IAAA;EAHb,CADQ;AAHZ,CAxBoC,CAAtC;AAqCA,IAAMG,MAAM,GAAGX,YAAY,CAAC;EAC1BY,OAAO,EAAEX,oBAAoB,EADH;EAE1BI,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKA,IAAMQ,SAAS,GAAG,CAAC,QAAD,CAAlB;AACAF,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAmB;EACnCf,SAAS,CAACgB,KAAV;EACA,IAAMC,MAAM,GAAGhB,OAAO,CAACiB,SAAR,EAAf;EACA,IAAMC,QAAQ,GAAGlB,OAAO,CAACmB,WAAR,EAAjB;EACA,IAAMC,WAAW,GAAGJ,MAAM,IAAIA,MAAM,KAAK,CAArB,IAA0BE,QAA1B,IAAsCA,QAAQ,KAAK,EAAvE;;EAEA,IAAIR,SAAS,CAACW,OAAV,CAAkBT,EAAE,CAACT,IAArB,MAA+B,CAAC,CAApC,EAAuC;IACrCW,IAAI;EACL,CAFD,MAEO,IAAIM,WAAJ,EAAiB;IACtBN,IAAI;EACL,CAFM,MAEA;IACL,IAAIF,EAAE,CAACT,IAAH,KAAY,GAAhB,EAAqB;MACnBW,IAAI,2BAAoBF,EAAE,CAACT,IAAvB,EAAJ;IACD,CAFD,MAEO;MACLW,IAAI,CAAC,QAAD,CAAJ;IACD;EACF;AACF,CAjBD;AAmBAN,MAAM,CAACc,SAAP,CAAiB,YAAK;EACpBvB,SAAS,CAACwB,IAAV;AACD,CAFD;AAIA,eAAef,MAAf","names":["createRouter","createWebHashHistory","NProgress","storage","Layout","routes","path","name","component","redirect","children","router","history","whiteList","beforeEach","to","from","next","start","userId","getUserId","userName","getUserName","hasLoggined","indexOf","afterEach","done"],"sourceRoot":"","sources":["/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js"],"sourcesContent":["import {\n  createRouter,\n  createWebHistory,\n  createWebHashHistory,\n  RouteRecordRaw\n} from \"vue-router\";\nimport NProgress from \"nprogress\";\nimport \"nprogress/nprogress.css\";\nimport storage from \"@/utils/storage/index\";\nimport Layout from \"../views/layout/layout.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/login\",\n    name: \"Login\",\n    component: () => import(\"@/views/login/index.vue\")\n  },\n  {\n    path: \"/\",\n    name: \"Index\",\n    redirect: \"/database\",\n    component: Layout\n    // component: () => import(\"@/views/index/index.vue\")\n  },\n  {\n    path: \"/preview\",\n    component: Layout,\n    children: [\n      {\n        path: \"\",\n        name: \"preview\",\n        component: () => import(\"@/views/preview/index.vue\")\n      }\n    ]\n  },\n  {\n    path: \"/database\",\n    component: Layout,\n    children: [\n      {\n        path: \"\",\n        name: \"database\",\n        component: () => import(\"@/views/database/index.vue\")\n      }\n    ]\n  }\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n});\n\nconst whiteList = [\"/login\"];\nrouter.beforeEach((to, from, next) => {\n  NProgress.start();\n  const userId = storage.getUserId();\n  const userName = storage.getUserName();\n  const hasLoggined = userId && userId !== 0 && userName && userName !== \"\";\n\n  if (whiteList.indexOf(to.path) !== -1) {\n    next();\n  } else if (hasLoggined) {\n    next();\n  } else {\n    if (to.path !== \"/\") {\n      next(`/login?redirect=${to.path}`);\n    } else {\n      next(\"/login\");\n    }\n  }\n});\n\nrouter.afterEach(() => {\n  NProgress.done();\n});\n\nexport default router;\n"]}]}