{"remainingRequest":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--15-2!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--1-1!/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/database/index.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/database/index.vue","mtime":1653475152349},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/babel.config.js","mtime":1638601854000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9iZW5qdW5saXUvRGVza3RvcC9Xb3JrL3dlYi9VbnRpdGxlZCBGb2xkZXIvbm9kZV9tb2R1bGVzL19AYmFiZWxfcnVudGltZUA3LjE3LjlAQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHJlYWN0aXZlLCBvbkJlZm9yZVVubW91bnQsIHJlZiwgd2F0Y2ggfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJfZWxlbWVudC1wbHVzQDEuMi4wLWJldGEuNkBlbGVtZW50LXBsdXMvZXMiOwppbXBvcnQgeyBkZWFsUmVzcG9uc2VDb2RlIH0gZnJvbSAiQC91dGlscy9mdW5jdGlvbnMiOwppbXBvcnQgeyBmb3JtYXRUaW1lIH0gZnJvbSAiQC91dGlscy9pbmRleCI7CmltcG9ydCB7IFdFRUsgfSBmcm9tICJAL2NvbnN0YW50L2luZGV4IjsKaW1wb3J0IEpzb25WaWV3ZXIgZnJvbSAidnVlMy1qc29uLXZpZXdlciI7IC8vIGltcG9ydCBzY3JvbGwgZnJvbSAidnVlLXNlYW1sZXNzLXNjcm9sbCI7Ci8vIGNvbnN0IGN1cnJlbnREYXRlID0gcmVmKG5ldyBEYXRlKCkpCi8vIGxldCBlbnRyeV9kcmF3ZXIgPSByZWYobnVsbCkKLy8gY29uc3QgcHJvZ3JhbXNOdW0gPSByZWYoMCkKCmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9fZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnaW5kZXgnLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzLCBfcmVmKSB7CiAgICB2YXIgZXhwb3NlID0gX3JlZi5leHBvc2U7CiAgICBleHBvc2UoKTsKICAgIHZhciB0aW1lSW5mbyA9IHJlYWN0aXZlKHsKICAgICAgc2V0SW50ZXJ2YWw6IDAsCiAgICAgIGRhdGVEYXk6ICIiLAogICAgICBkYXRlWWVhcjogIiIsCiAgICAgIGRhdGVXZWVrOiAiIgogICAgfSk7CiAgICB2YXIganNvbkRhdGEgPSB7CiAgICAgIHRvdGFsOiAyNSwKICAgICAgbGltaXQ6IDEwLAogICAgICBza2lwOiAwLAogICAgICBsaW5rczogewogICAgICAgIHByZXZpb3VzOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgZGF0YTogW3sKICAgICAgICBpZDogIjU5NjhmY2FkNjI5ZmE4NGFiNjVhNTI0NyIsCiAgICAgICAgZmlyc3RuYW1lOiAiQWRhIiwKICAgICAgICBsYXN0bmFtZTogIkxvdmVsYWNlIiwKICAgICAgICBhd2FyZHM6IG51bGwsCiAgICAgICAga25vd246IFsibWF0aGVtYXRpY3MiLCAiY29tcHV0aW5nIl0sCiAgICAgICAgcG9zaXRpb246IHsKICAgICAgICAgIGxhdDogNDQuNTYzODM2LAogICAgICAgICAgbG5nOiA2LjQ5NTEzOQogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICJBdWd1c3RhIEFkYSBLaW5nLCBDb3VudGVzcyBvZiBMb3ZlbGFjZSAoblx4RTllIEJ5cm9uOyAxMCBEZWNlbWJlciAxODE1IFx1MjAxMyAyNyBOb3ZlbWJlciAxODUyKSB3YXMgYW4gRW5nbGlzaCBtYXRoZW1hdGljaWFuIGFuZCB3cml0ZXIsXG4gICAgICAgICAgICBjaGllZmx5IGtub3duIGZvciBoZXIgd29yayBvbiBDaGFybGVzIEJhYmJhZ2UncyBwcm9wb3NlZCBtZWNoYW5pY2FsIGdlbmVyYWwtcHVycG9zZSBjb21wdXRlcixcbiAgICAgICAgICAgIHRoZSBBbmFseXRpY2FsIEVuZ2luZS4gU2hlIHdhcyB0aGUgZmlyc3QgdG8gcmVjb2duaXNlIHRoYXQgdGhlIG1hY2hpbmUgaGFkIGFwcGxpY2F0aW9ucyBiZXlvbmQgcHVyZSBjYWxjdWxhdGlvbixcbiAgICAgICAgICAgIGFuZCBwdWJsaXNoZWQgdGhlIGZpcnN0IGFsZ29yaXRobSBpbnRlbmRlZCB0byBiZSBjYXJyaWVkIG91dCBieSBzdWNoIGEgbWFjaGluZS5cbiAgICAgICAgICAgIEFzIGEgcmVzdWx0LCBzaGUgaXMgc29tZXRpbWVzIHJlZ2FyZGVkIGFzIHRoZSBmaXJzdCB0byByZWNvZ25pc2UgdGhlIGZ1bGwgcG90ZW50aWFsIG9mIGEgXCJjb21wdXRpbmcgbWFjaGluZVwiIGFuZCB0aGUgZmlyc3QgY29tcHV0ZXIgcHJvZ3JhbW1lci4iLAogICAgICAgIGJvcm5BdDogIjE4MTUtMTItMTBUMDA6MDA6MDAuMDAwWiIsCiAgICAgICAgZGllZEF0OiAiMTg1Mi0xMS0yN1QwMDowMDowMC4wMDBaIgogICAgICB9LCB7CiAgICAgICAgaWQ6ICI1OTY4ZmNhZDYyOWZhODRhYjY1YTUyNDYiLAogICAgICAgIGZpcnN0bmFtZTogIkdyYWNlIiwKICAgICAgICBsYXN0bmFtZTogIkhvcHBlciIsCiAgICAgICAgYXdhcmRzOiBbIkRlZmVuc2UgRGlzdGluZ3Vpc2hlZCBTZXJ2aWNlIE1lZGFsIiwgIkxlZ2lvbiBvZiBNZXJpdCIsICJNZXJpdG9yaW91cyBTZXJ2aWNlIE1lZGFsIiwgIkFtZXJpY2FuIENhbXBhaWduIE1lZGFsIiwgIldvcmxkIFdhciBJSSBWaWN0b3J5IE1lZGFsIiwgIk5hdGlvbmFsIERlZmVuc2UgU2VydmljZSBNZWRhbCIsICJBcm1lZCBGb3JjZXMgUmVzZXJ2ZSBNZWRhbCIsICJOYXZhbCBSZXNlcnZlIE1lZGFsIiwgIlByZXNpZGVudGlhbCBNZWRhbCBvZiBGcmVlZG9tIl0sCiAgICAgICAga25vd246IG51bGwsCiAgICAgICAgcG9zaXRpb246IHsKICAgICAgICAgIGxhdDogNDMuNjE0NjI0LAogICAgICAgICAgbG5nOiAzLjg3OTk5NQogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICJHcmFjZSBCcmV3c3RlciBNdXJyYXkgSG9wcGVyIChuXHhFOWUgTXVycmF5OyBEZWNlbWJlciA5LCAxOTA2IFx1MjAxMyBKYW51YXJ5IDEsIDE5OTIpXG4gICAgICAgICAgICB3YXMgYW4gQW1lcmljYW4gY29tcHV0ZXIgc2NpZW50aXN0IGFuZCBVbml0ZWQgU3RhdGVzIE5hdnkgcmVhciBhZG1pcmFsLlxuICAgICAgICAgICAgT25lIG9mIHRoZSBmaXJzdCBwcm9ncmFtbWVycyBvZiB0aGUgSGFydmFyZCBNYXJrIEkgY29tcHV0ZXIsXG4gICAgICAgICAgICBzaGUgd2FzIGEgcGlvbmVlciBvZiBjb21wdXRlciBwcm9ncmFtbWluZyB3aG8gaW52ZW50ZWQgb25lIG9mIHRoZSBmaXJzdCBjb21waWxlciByZWxhdGVkIHRvb2xzLlxuICAgICAgICAgICAgU2hlIHBvcHVsYXJpemVkIHRoZSBpZGVhIG9mIG1hY2hpbmUtaW5kZXBlbmRlbnQgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2VzLCB3aGljaCBsZWQgdG8gdGhlIGRldmVsb3BtZW50IG9mIENPQk9MLFxuICAgICAgICAgICAgYW4gZWFybHkgaGlnaC1sZXZlbCBwcm9ncmFtbWluZyBsYW5ndWFnZSBzdGlsbCBpbiB1c2UgdG9kYXkuIiwKICAgICAgICBib3JuQXQ6ICIxODE1LTEyLTEwVDAwOjAwOjAwLjAwMFoiLAogICAgICAgIGRpZWRBdDogIjE4NTItMTEtMjdUMDA6MDA6MDAuMDAwWiIKICAgICAgfV0KICAgIH07IC8vIGNvbnN0IGRhdGEgPSBbCiAgICAvLyAgIHsKICAgIC8vICAgICB2YWx1ZTogJzEnLAogICAgLy8gICAgIGxhYmVsOiAnTGV2ZWwgb25lIDEnLAogICAgLy8gICAgIGNoaWxkcmVuOiBbCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIHZhbHVlOiAnMS0xJywKICAgIC8vICAgICAgICAgbGFiZWw6ICdMZXZlbCB0d28gMS0xJywKICAgIC8vICAgICAgICAgY2hpbGRyZW46IFsKICAgIC8vICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICB2YWx1ZTogJzEtMS0xJywKICAgIC8vICAgICAgICAgICAgIGxhYmVsOiAnTGV2ZWwgdGhyZWUgMS0xLTEnLAogICAgLy8gICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIF0sCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgIF0sCiAgICAvLyAgIH0sCiAgICAvLyAgIHsKICAgIC8vICAgICB2YWx1ZTogJzInLAogICAgLy8gICAgIGxhYmVsOiAnTGV2ZWwgb25lIDInLAogICAgLy8gICAgIGNoaWxkcmVuOiBbCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIHZhbHVlOiAnMi0xJywKICAgIC8vICAgICAgICAgbGFiZWw6ICdMZXZlbCB0d28gMi0xJywKICAgIC8vICAgICAgICAgY2hpbGRyZW46IFsKICAgIC8vICAgICAgICAgICB7CiAgICAvLyAgICAgICAgICAgICB2YWx1ZTogJzItMS0xJywKICAgIC8vICAgICAgICAgICAgIGxhYmVsOiAnTGV2ZWwgdGhyZWUgMi0xLTEnLAogICAgLy8gICAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIF0sCiAgICAvLyAgICAgICB9LAogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICB2YWx1ZTogJzItMicsCiAgICAvLyAgICAgICAgIGxhYmVsOiAnTGV2ZWwgdHdvIDItMicsCiAgICAvLyAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAvLyAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgdmFsdWU6ICcyLTItMScsCiAgICAvLyAgICAgICAgICAgICBsYWJlbDogJ0xldmVsIHRocmVlIDItMi0xJywKICAgIC8vICAgICAgICAgICB9LAogICAgLy8gICAgICAgICBdLAogICAgLy8gICAgICAgfSwKICAgIC8vICAgICBdLAogICAgLy8gICB9LAogICAgLy8gICB7CiAgICAvLyAgICAgdmFsdWU6ICczJywKICAgIC8vICAgICBsYWJlbDogJ0xldmVsIG9uZSAzJywKICAgIC8vICAgICBjaGlsZHJlbjogWwogICAgLy8gICAgICAgewogICAgLy8gICAgICAgICB2YWx1ZTogJzMtMScsCiAgICAvLyAgICAgICAgIGxhYmVsOiAnTGV2ZWwgdHdvIDMtMScsCiAgICAvLyAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAvLyAgICAgICAgICAgewogICAgLy8gICAgICAgICAgICAgdmFsdWU6ICczLTEtMScsCiAgICAvLyAgICAgICAgICAgICBsYWJlbDogJ0xldmVsIHRocmVlIDMtMS0xJywKICAgIC8vICAgICAgICAgICB9LAogICAgLy8gICAgICAgICBdLAogICAgLy8gICAgICAgfSwKICAgIC8vICAgICAgIHsKICAgIC8vICAgICAgICAgdmFsdWU6ICczLTInLAogICAgLy8gICAgICAgICBsYWJlbDogJ0xldmVsIHR3byAzLTInLAogICAgLy8gICAgICAgICBjaGlsZHJlbjogWwogICAgLy8gICAgICAgICAgIHsKICAgIC8vICAgICAgICAgICAgIHZhbHVlOiAnMy0yLTEnLAogICAgLy8gICAgICAgICAgICAgbGFiZWw6ICdMZXZlbCB0aHJlZSAzLTItMScsCiAgICAvLyAgICAgICAgICAgfSwKICAgIC8vICAgICAgICAgXSwKICAgIC8vICAgICAgIH0sCiAgICAvLyAgICAgXSwKICAgIC8vICAgfSwKICAgIC8vIF0KCiAgICB2YXIgZm9ybWF0VGltZUluZm8gPSBmdW5jdGlvbiBmb3JtYXRUaW1lSW5mbygpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB0aW1lSW5mby5kYXRlRGF5ID0gZm9ybWF0VGltZShkYXRlLCAiSEg6IG1tOiBzcyIpOwogICAgICB0aW1lSW5mby5kYXRlWWVhciA9IGZvcm1hdFRpbWUoZGF0ZSwgInl5eXktTU0tZGQiKTsKICAgICAgdGltZUluZm8uZGF0ZVdlZWsgPSBXRUVLW2RhdGUuZ2V0RGF5KCldOwogICAgfTsKCiAgICB2YXIgaGFuZGxlVGltZSA9IGZ1bmN0aW9uIGhhbmRsZVRpbWUoKSB7CiAgICAgIHRpbWVJbmZvLnNldEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGZvcm1hdFRpbWVJbmZvKCk7CiAgICAgIH0sIDEwMDApOwogICAgfTsKCiAgICBmb3JtYXRUaW1lSW5mbygpOwogICAgaGFuZGxlVGltZSgpOwogICAgdmFyIGhvc3QgPSByZWYobnVsbCk7IC8vIGNvbnN0IGhvc3RzID0gWwogICAgLy8gICB7CiAgICAvLyAgICAgdmFsdWU6ICJmcGlzX2tic2ltbDE0IiwKICAgIC8vICAgICBsYWJlbDogImZwaXNfa2JzaW1sMTQiLAogICAgLy8gICB9LAogICAgLy8gICB7CiAgICAvLyAgICAgdmFsdWU6ICJmcGlzX2tic2ltbDM1IiwKICAgIC8vICAgICBsYWJlbDogImZwaXNfa2JzaW1sMzUiLAogICAgLy8gICB9LAogICAgLy8gICB7CiAgICAvLyAgICAgdmFsdWU6ICJmcGlzX2tic2ltbDY2IiwKICAgIC8vICAgICBsYWJlbDogImZwaXNfa2JzaW1sNjYiLAogICAgLy8gICB9LAogICAgLy8gXTsKCiAgICB2YXIgZ3JvdXBlZCA9IHJlZihbXSk7CiAgICB2YXIgaG9zdHMgPSByZWYoW10pOwogICAgdmFyIG9ubHlTaG93QWxlcnQgPSByZWYoZmFsc2UpOwogICAgdmFyIGFjdHVhbFByb2dyYW1zID0gcmVmKFtdKTsgLy8gdGhlIHN0b3JlZCB3aG9sZSBwcm9ncmFtcwoKICAgIHZhciBwcm9ncmFtcyA9IHJlZihbXSk7IC8vIGZvciBzaG93CgogICAgdmFyIGxvZ3MgPSByZWYoW10pOwogICAgdmFyIGFjdGl2ZUdyb3VwSWR4ID0gcmVmKG51bGwpOwogICAgdmFyIGFjdGl2ZVBnSWR4ID0gcmVmKG51bGwpOwogICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHJlZigiYWxsIik7CiAgICB2YXIgaXNHcm91cGluZyA9IHJlZihmYWxzZSk7CiAgICB2YXIgc2V0dGluZ1Zpc2libGUgPSByZWYoZmFsc2UpOwogICAgdmFyIHNvY2tldCwgc29ja2V0VXJsOwoKICAgIHZhciBjcmVhdGVOZXdTb2NrZXQgPSBmdW5jdGlvbiBjcmVhdGVOZXdTb2NrZXQoKSB7CiAgICAgIGlmIChzb2NrZXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHNvY2tldC5jbG9zZSgpOwogICAgICB9CgogICAgICBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHNvY2tldFVybCk7CgogICAgICBzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkgey8vIGNvbnNvbGUubG9nKCJzb2NrZXQgb3BlbmVkLi4uIik7CiAgICAgICAgLy8gc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoe3VzZXJuYW1lOiAiYmxpdSIsbXNnOiAidGVzdCB3ZWJzb2NrZXQifSkpOwogICAgICB9OwoKICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IHBhcnNlU29ja2V0TXNnOwoKICAgICAgc29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICJXZWJzb2NrZXQgZXJyb3IiLAogICAgICAgICAgZ3JvdXBpbmc6IHRydWUsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHsvLyBjb25zb2xlLmxvZygiV2Vic29ja2V0IGNsb3NlZC4uLi4uLiIpOwogICAgICB9OwogICAgfTsKCiAgICB2YXIgaGFuZGxlU2VsZWN0ID0gZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGtleSwga2V5UGF0aCkgewogICAgICBpZiAoa2V5UGF0aFswXSA9PSAib3JnYW5pemUiKSB7CiAgICAgICAgb25seVNob3dBbGVydC52YWx1ZSA9IGtleSA9PSAiQWxlcnQgT25seSI7CiAgICAgICAgaXNHcm91cGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGtleVBhdGhbMF0gPT0gImFsbCIpIHsKICAgICAgICBpc0dyb3VwaW5nLnZhbHVlID0gdHJ1ZTsgLy8gc29ja2V0VXJsID0gIndzOi8vMTkyLjE2OC4wLjEyMDo2OTE5L3F1b3Rlci9hbGwvYWxsIjsKICAgICAgICAvLyBzb2NrZXRVcmwgPSAid3M6Ly83LjE1MS4xNi45OTo2OTE5L3F1b3Rlci9hbGwvYWxsIjsKCiAgICAgICAgc29ja2V0VXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9XRUJTT0NLRVRfVVJMICsgInF1b3Rlci9hbGwvYWxsIjsKICAgICAgfSBlbHNlIGlmIChrZXlQYXRoWzBdID09ICJob3N0IikgewogICAgICAgIGlzR3JvdXBpbmcudmFsdWUgPSBmYWxzZTsgLy8gc29ja2V0VXJsID0gIndzOi8vMTkyLjE2OC4wLjEyMDo2OTE5L3F1b3Rlci9ob3N0LyIgKyBrZXk7CgogICAgICAgIHNvY2tldFVybCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfV0VCU09DS0VUX1VSTCArICJxdW90ZXIvaG9zdC8iICsga2V5OyAvLyBzb2NrZXRVcmwgPSAid3M6Ly83LjE1MS4xNi45OTo2OTE5L3F1b3Rlci9ob3N0LyIgKyBrZXkKICAgICAgfSBlbHNlIGlmIChrZXlQYXRoWzBdID09ICJzdHJhdGVneSIpIHsKICAgICAgICBpc0dyb3VwaW5nLnZhbHVlID0gZmFsc2U7IC8vIHNvY2tldFVybCA9ICJ3czovLzE5Mi4xNjguMC4xMjA6NjkxOS9xdW90ZXIvc3RyYXRlZ3kvIiArIGtleTsKCiAgICAgICAgc29ja2V0VXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9XRUJTT0NLRVRfVVJMICsgInF1b3Rlci9zdHJhdGVneS8iICsga2V5OyAvLyBzb2NrZXRVcmwgPSAid3M6Ly83LjE1MS4xNi45OTo2OTE5L3F1b3Rlci9zdHJhdGVneS8iICsga2V5CiAgICAgIH0KCiAgICAgIGNyZWF0ZU5ld1NvY2tldCgpOwogICAgfTsKCiAgICB2YXIgZm9ybWF0TG9nVGl0bGUgPSBmdW5jdGlvbiBmb3JtYXRMb2dUaXRsZShpbmRleCkgewogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgcHJvZ3JhbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmIChsb2dzLnZhbHVlW2luZGV4XS5pZCA9PT0gcHJvZ3JhbS5pZCkgewogICAgICAgICAgICByZXR1cm4gIlsiICsgbG9ncy52YWx1ZVtpbmRleF0uY3RpbWUgKyAiXToiICsgcHJvZ3JhbS5uYW1lICsgIkAiICsgaG9zdHMudmFsdWVbcHJvZ3JhbS5ob3N0IC0gMV0ubmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgc2V0T3BhY2l0eSA9IGZ1bmN0aW9uIHNldE9wYWNpdHkoaW5kZXgsIGlzT3BhY2l0eSkgewogICAgICBpZiAoaXNPcGFjaXR5KSB7CiAgICAgICAgcHJvZ3JhbXMudmFsdWVbaW5kZXhdLmNsYXNzID0gcHJvZ3JhbXMudmFsdWVbaW5kZXhdLmNsYXNzICsgIiBvcGFjaXR5IjsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcm9ncmFtcy52YWx1ZVtpbmRleF0uY2xhc3MgPSBwcm9ncmFtcy52YWx1ZVtpbmRleF0uY2xhc3MucmVwbGFjZSgvb3BhY2l0eS9nLCAiIik7CiAgICAgIH0KICAgIH07CgogICAgd2F0Y2gob25seVNob3dBbGVydCwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IFtdOwogICAgICAgIHZhciBub3JtYWwgPSBbXTsKICAgICAgICB2YXIgYWJub3JtYWwgPSBbXTsKCiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgaWYgKHByb2dyYW1bImNsYXNzIl0uaW5kZXhPZigiYWxlcnQiKSAhPT0gLTEpIHsKICAgICAgICAgICAgICBhYm5vcm1hbC5wdXNoKHByb2dyYW0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5vcm1hbC5wdXNoKHByb2dyYW0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgfQoKICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IG5vcm1hbC5jb25jYXQoYWJub3JtYWwpOwogICAgICB9IGVsc2UgewogICAgICAgIHByb2dyYW1zLnZhbHVlID0gYWN0dWFsUHJvZ3JhbXMudmFsdWU7CiAgICAgIH0KCiAgICAgIHJvd3MudmFsdWUgPSBNYXRoLmNlaWwocHJvZ3JhbXMudmFsdWUubGVuZ3RoIC8gY29scy52YWx1ZSk7CiAgICB9KTsKICAgIHdhdGNoKGFjdGl2ZUdyb3VwSWR4LCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbHVlLCAiPC0tLS0iLCBvbGRWYWx1ZSk7CgogICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCkgewogICAgICAgIGlmIChpc0dyb3VwaW5nLnZhbHVlKSB7CiAgICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IFtdOwoKICAgICAgICAgIHZhciBfaXRlcmF0b3IzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZ3JvdXBlZC52YWx1ZSksCiAgICAgICAgICAgICAgX3N0ZXAzOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIGdyb3VwID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICAgIHZhciBuZXdQcm9ncmFtID0gbnVsbDsKCiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjQgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgICAgICAgIF9zdGVwNDsKCiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gX3N0ZXA0LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgaWYgKHByb2dyYW0uZ3JvdXAgPT0gZ3JvdXAuaWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbVsiY2xhc3MiXS5pbmRleE9mKCJhbGVydCIpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgbmV3UHJvZ3JhbSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLmlkLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogImFsZXJ0IiwKICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4R01WOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdhZ2VkOiAwCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gewogICAgICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAibm9ybWFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4R01WOiAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdhZ2VkOiAwCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKG5ld1Byb2dyYW0gIT09IG51bGwpIHsKICAgICAgICAgICAgICAgIHByb2dyYW1zLnZhbHVlLnB1c2gobmV3UHJvZ3JhbSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBfaXRlcmF0b3IzLmYoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICBfc3RlcDU7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgICBwcm9ncmFtID0gX3N0ZXA1LnZhbHVlOwogICAgICAgICAgICBwcm9ncmFtLmNsYXNzID0gcHJvZ3JhbS5jbGFzcy5yZXBsYWNlKC9vcGFjaXR5L2csICIiKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGlzR3JvdXBpbmcudmFsdWUpIHsKICAgICAgICAgIHByb2dyYW1zLnZhbHVlID0gW107CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihncm91cGVkLnZhbHVlKSwKICAgICAgICAgICAgICBfc3RlcDY7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICBncm91cCA9IF9zdGVwNi52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKGdyb3VwLmlkID09PSBuZXdWYWx1ZSkgewogICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgX3N0ZXA3OwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNy5zKCk7ICEoX3N0ZXA3ID0gX2l0ZXJhdG9yNy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbSA9IF9zdGVwNy52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyYW0uZ3JvdXAgPT09IG5ld1ZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtcy52YWx1ZS5wdXNoKHByb2dyYW0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjcuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNy5mKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSBudWxsOwoKICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3I4ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICAgICAgICAgIF9zdGVwODsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjgucygpOyAhKF9zdGVwOCA9IF9pdGVyYXRvcjgubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgIHByb2dyYW0gPSBfc3RlcDgudmFsdWU7CgogICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtLmdyb3VwID09IGdyb3VwLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbVsiY2xhc3MiXS5pbmRleE9mKCJhbGVydCIpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAiYWxlcnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhHTVY6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvZ3JhbSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogIm5vcm1hbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxzOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckdNVjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEdNVjogMQogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdhZ2VkOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5ld1Byb2dyYW0gIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjguZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yOC5mKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKG5ld1Byb2dyYW0gIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgcHJvZ3JhbXMudmFsdWUucHVzaChuZXdQcm9ncmFtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjYuZigpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIF9pdGVyYXRvcjkgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihwcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgIF9zdGVwOTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yOS5zKCk7ICEoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHByb2dyYW0gPSBfc3RlcDkudmFsdWU7CgogICAgICAgICAgICBpZiAocHJvZ3JhbS5ncm91cCAhPSBuZXdWYWx1ZSkgewogICAgICAgICAgICAgIHByb2dyYW0uY2xhc3MgPSBwcm9ncmFtLmNsYXNzICsgIiBvcGFjaXR5IjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBwcm9ncmFtLmNsYXNzID0gcHJvZ3JhbS5jbGFzcy5yZXBsYWNlKC9vcGFjaXR5L2csICIiKTsgLy8gRWxNZXNzYWdlKHsKICAgICAgICAgICAgICAvLyAgIG1lc3NhZ2U6IGdyb3VwZWQudmFsdWVbcHJvZ3JhbS5ncm91cF0ubmFtZSwKICAgICAgICAgICAgICAvLyAgIGdyb3VwaW5nOiB0cnVlLAogICAgICAgICAgICAgIC8vICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIHZhciBvbGRHcm91cElkeCA9IC0xLAogICAgICAgICAgLy8gICBuZXdHcm91cElkeCA9IC0xOwogICAgICAgICAgLy8gZm9yICh2YXIgZ3JvdXAgb2YgZ3JvdXBlZC52YWx1ZSkgewogICAgICAgICAgLy8gICB2YXIgaWR4ID0gZ3JvdXAucHJvZ3JhbXMuaW5kZXhPZihuZXdWYWx1ZSk7CiAgICAgICAgICAvLyAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgICAvLyAgICAgbmV3R3JvdXBJZHggPSBpZHg7CiAgICAgICAgICAvLyAgICAgZm9yIChpZHggb2YgZ3JvdXAucHJvZ3JhbXMpIHsKICAgICAgICAgIC8vICAgICAgIHNldE9wYWNpdHkoaWR4LCBmYWxzZSk7CiAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgLy8gICB9CiAgICAgICAgICAvLyAgIGlmIChvbGRWYWx1ZSAhPT0gbnVsbCkgewogICAgICAgICAgLy8gICAgIGlkeCA9IGdyb3VwLnByb2dyYW1zLmluZGV4T2Yob2xkVmFsdWUpOwogICAgICAgICAgLy8gICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgICAvLyAgICAgICBvbGRHcm91cElkeCA9IGlkeDsKICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vICAgaWYgKChvbGRHcm91cElkeCAhPT0gLTEgfHwgb2xkVmFsdWUgPT0gbnVsbCkgJiYgbmV3R3JvdXBJZHggIT09IC0xKSB7CiAgICAgICAgICAvLyAgICAgYnJlYWs7CiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vIH0KCiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3I5LmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yOS5mKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKCiAgICB2YXIgZW50ZXJCb3ggPSBmdW5jdGlvbiBlbnRlckJveChpbmRleCkgewogICAgICBhY3RpdmVQZ0lkeC52YWx1ZSA9IGluZGV4OwogICAgICBjb25zb2xlLmxvZygicHJvZ3JhbXM6IiwgcHJvZ3JhbXMudmFsdWUpOwogICAgICBhY3RpdmVHcm91cElkeC52YWx1ZSA9IHByb2dyYW1zLnZhbHVlW2luZGV4XS5ncm91cDsgLy8gY29uc29sZS5sb2coImVudGVyLi4uIik7CiAgICAgIC8vIGZvciAoIHZhciBpID0gMDsgaSA8IHByb2dyYW1zLnZhbHVlLmxlbmd0aDsgKytpKSB7CiAgICAgIC8vICAgY29uc29sZS5sb2coIkJlZm9yZSIsIHByb2dyYW1zLnZhbHVlW2ldLmNsYXNzKQogICAgICAvLyAgIHByb2dyYW1zLnZhbHVlW2ldLmNsYXNzLnJlcGxhY2UoL29wYWNpdHkvZywgIiIpCiAgICAgIC8vICAgaWYgKCBpICE9IGluZGV4ICkgewogICAgICAvLyAgICAgcHJvZ3JhbXMudmFsdWVbaV0uY2xhc3MgKz0gIiBvcGFjaXR5IgogICAgICAvLyAgIH0KICAgICAgLy8gICBjb25zb2xlLmxvZygiQWZ0ZXIiLCBwcm9ncmFtcy52YWx1ZVtpXS5jbGFzcykKICAgICAgLy8gfQogICAgfTsKCiAgICB2YXIgbGVhdmVCb3ggPSBmdW5jdGlvbiBsZWF2ZUJveCgpIHsKICAgICAgY29uc29sZS5sb2coImxlYXZlLi4uIik7CiAgICAgIGFjdGl2ZVBnSWR4LnZhbHVlID0gbnVsbDsKICAgICAgYWN0aXZlR3JvdXBJZHgudmFsdWUgPSBudWxsOyAvLyBmb3IgKCB2YXIgaSA9IDA7IGkgPCBwcm9ncmFtcy52YWx1ZS5sZW5ndGg7ICsraSkgewogICAgICAvLyAgIHByb2dyYW1zLnZhbHVlW2ldLmNsYXNzLnJlcGxhY2UoL29wYWNpdHkvZywgIiIpCiAgICAgIC8vIH0KICAgIH07CgogICAgdmFyIGxvZ0NvbnRhaW5lciA9IHJlZihudWxsKTsKICAgIHZhciByb3dzID0gcmVmKDApOwogICAgdmFyIGNvbHMgPSByZWYoMjQpOwogICAgdmFyIHZpc2libGUgPSByZWYoZmFsc2UpOyAvLyBsZXQgcXVlcnlUaW1lciA9IHJlZihudWxsKQoKICAgIHZhciBxdWVyeSA9IHsKICAgICAgZnJvbTogbnVsbCwKICAgICAgdG86IG51bGwsCiAgICAgIG5hbWU6IG51bGwsCiAgICAgIG51bWJlcjogbnVsbAogICAgfTsKICAgIHZhciBudW1iZXJLZXlzID0gWyJvcmRlcnMiLCAidHJhZGVzIiwgImZhaWxzIiwgImN1cnJHTVYiLCAibWF4R01WIl07IC8vIGxldCBwcm9ncmFtc19rZXlzID0gcmVmKFtdKTsKCiAgICBvbkJlZm9yZVVubW91bnQoZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygib25CZWZvcmVVbm1vdW50Iik7IC8vICAgc3RvcFF1ZXJ5U3RhdHVzKCkKICAgIH0pOwoKICAgIHZhciB0YWJsZVJvd0NsYXNzTmFtZSA9IGZ1bmN0aW9uIHRhYmxlUm93Q2xhc3NOYW1lKF9yZWYyKSB7CiAgICAgIHZhciByb3cgPSBfcmVmMi5yb3csCiAgICAgICAgICByb3dJbmRleCA9IF9yZWYyLnJvd0luZGV4OwogICAgICBjb25zb2xlLmxvZygicm93Li4uLiIsIHJvdy5zZWNvbmQuZmFpbHMsIHJvdy5zZWNvbmQuZmFpbHMgPiAzMDApOwoKICAgICAgaWYgKHJvdy5zZWNvbmQuZmFpbHMgPiAzMDApIHsKICAgICAgICByZXR1cm4gImVycm9yLXJvdyI7CiAgICAgIH0gZWxzZSBpZiAocm93LnNlY29uZC5zaW5jZSA9PSAiIikgewogICAgICAgIHJldHVybiAid2FybmluZy1yb3ciOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9OwoKICAgIHZhciBmb3JtYXRHTVYgPSBmdW5jdGlvbiBmb3JtYXRHTVYoY3VyckdNViwgbWF4R01WKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICJDdXJyOiIgKyBjdXJyR01WOyAvLyArICIsTWF4OiIgKyBtYXhHTVY7CiAgICAgIH07CiAgICB9OwoKICAgIHZhciBmb3JtYXRTeW1ib2xzID0gZnVuY3Rpb24gZm9ybWF0U3ltYm9scyhzeW1ib2xzLCBlbmdhZ2VkKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICJTeW1ib2xzOiIgKyBzeW1ib2xzICsgIixFbmdhZ2VkOiAiICsgZW5nYWdlZDsKICAgICAgfTsKICAgIH07CgogICAgdmFyIHBhcnNlU29ja2V0TXNnID0gZnVuY3Rpb24gcGFyc2VTb2NrZXRNc2cobXNnKSB7CiAgICAgIHZhciByZXNwb25zZSA9IEpTT04ucGFyc2UobXNnLmRhdGEpOwogICAgICBjb25zb2xlLmxvZygicmVzcG9uc2UiKTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICBkZWFsUmVzcG9uc2VDb2RlKHJlc3BvbnNlLCBmdW5jdGlvbiBzdWNjZXNzSGFuZGxlcigpIHsKICAgICAgICAvLyBmaXJzdCB0aW1lOiBnZXQgdGhlIHdob2xlIHByb2dyYW1zCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEucHJvZ3JhbXMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgb25seVNob3dBbGVydC52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWUgPSBbXTsKICAgICAgICAgIHByb2dyYW1zLnZhbHVlID0gW107CiAgICAgICAgICBncm91cGVkLnZhbHVlID0gW107CiAgICAgICAgICBob3N0cy52YWx1ZSA9IFtdOwogICAgICAgICAgbG9ncy52YWx1ZSA9IFtdOwogICAgICAgICAgcm93cy52YWx1ZSA9IDA7CiAgICAgICAgICBhY3RpdmVQZ0lkeC52YWx1ZSA9IG51bGw7CiAgICAgICAgICBhY3RpdmVHcm91cElkeC52YWx1ZSA9IG51bGw7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubG9ncyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLmxvZ3MubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sb2dzW2ldLmxldmVsID09ICIwIikgewogICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gImNvbG9yOiAjNjdjMjNhIjsgLy8gc3VjY2VzcwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5sb2dzW2ldLmxldmVsID09ICIxIikgewogICAgICAgICAgICAgICAgY29sb3IgPSAiY29sb3I6ICNlNmEyM2MiOyAvLyB3YXJuaW5nCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLmxvZ3NbaV0ubGV2ZWwgPT0gIjIiKSB7CiAgICAgICAgICAgICAgICBjb2xvciA9ICJjb2xvcjogI2ZmMTYwMiI7IC8vIGFsZXJ0ICNmNTZjNmMgI2YyMGMwMAogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb2xvciA9ICJjb2xvcjogIzkwOTM5OSI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBsb2dzLnZhbHVlLnB1c2goewogICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEubG9nc1tpXS5wcm9ncmFtLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5sb2dzW2ldLnRleHQsCiAgICAgICAgICAgICAgICBsZXZlbDogcmVzcG9uc2UuZGF0YS5sb2dzW2ldLmxldmVsLAogICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgICAgICAgICAgY3RpbWU6IHJlc3BvbnNlLmRhdGEubG9nc1tpXS5jdGltZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgZ3JvdXBlZC52YWx1ZSA9IHJlc3BvbnNlLmRhdGEuZ3JvdXBzOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBlZC52YWx1ZS5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBncm91cGVkLnZhbHVlW2ldLm9wYWNpdHkgPSAxOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCJjb21pbmcgaG9zdHMuLi4iKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuaG9zdHMpOwogICAgICAgICAgaG9zdHMudmFsdWUgPSByZXNwb25zZS5kYXRhLmhvc3RzOwogICAgICAgICAgY29uc29sZS5sb2coInBhcnNlZCBob3N0cyIpOwogICAgICAgICAgY29uc29sZS5sb2coaG9zdHMudmFsdWUpOwogICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWUgPSByZXNwb25zZS5kYXRhLnByb2dyYW1zOwoKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhY3R1YWxQcm9ncmFtcy52YWx1ZS5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBpZiAoYWN0dWFsUHJvZ3JhbXMudmFsdWVbaV0ubW9kdWxlcyA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpXS5tb2R1bGVzID0gW107CiAgICAgICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWVbaV1bImNsYXNzIl0gPSAiZGVhZCBibGluay1ib3JkZXIiOwogICAgICAgICAgICB9IGVsc2UgaWYgKGFjdHVhbFByb2dyYW1zLnZhbHVlW2ldLm1vZHVsZXNbMF0uZmFpbHMgPiBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpXS5tb2R1bGVzWzBdLnRyYWRlcykgewogICAgICAgICAgICAgIGFjdHVhbFByb2dyYW1zLnZhbHVlW2ldWyJjbGFzcyJdID0gImFsZXJ0IjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpXVsiY2xhc3MiXSA9ICJub3JtYWwiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGlzR3JvdXBpbmcudmFsdWUpIHsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjEwID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZ3JvdXBlZC52YWx1ZSksCiAgICAgICAgICAgICAgICBfc3RlcDEwOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjEwLnMoKTsgIShfc3RlcDEwID0gX2l0ZXJhdG9yMTAubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gX3N0ZXAxMC52YWx1ZTsKICAgICAgICAgICAgICAgIHZhciBuZXdQcm9ncmFtID0gbnVsbDsKCiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTEgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgX3N0ZXAxMTsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjExLnMoKTsgIShfc3RlcDExID0gX2l0ZXJhdG9yMTEubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gX3N0ZXAxMS52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyYW0uZ3JvdXAgPT0gZ3JvdXAuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtWyJjbGFzcyJdLmluZGV4T2YoImFsZXJ0IikgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhbGVydCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxzOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckdNVjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEdNVjogMQogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdhZ2VkOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJub3JtYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhHTVY6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTEuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTEuZigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChuZXdQcm9ncmFtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIHByb2dyYW1zLnZhbHVlLnB1c2gobmV3UHJvZ3JhbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IxMC5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMTAuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IGFjdHVhbFByb2dyYW1zLnZhbHVlOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCJQcm9ncmFtczogIiwgcHJvZ3JhbXMudmFsdWUpOwogICAgICAgICAgY29uc29sZS5sb2coImFjdHVhbFByb2dyYW1zOiAiLCBhY3R1YWxQcm9ncmFtcy52YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHByb2dyYW0gPSByZXNwb25zZS5kYXRhLnByb2dyYW07CgogICAgICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgYWN0dWFsUHJvZ3JhbXMudmFsdWUubGVuZ3RoOyArK2lkeCkgewogICAgICAgICAgICBpZiAoYWN0dWFsUHJvZ3JhbXMudmFsdWVbaWR4XS5pZCA9PSBwcm9ncmFtLmlkKSB7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpZHhdLmdyb3VwID0gcHJvZ3JhbS5ncm91cDsKICAgICAgICAgIGFjdHVhbFByb2dyYW1zLnZhbHVlW2lkeF0uaG9zdCA9IHByb2dyYW0uaG9zdDsKICAgICAgICAgIGFjdHVhbFByb2dyYW1zLnZhbHVlW2lkeF0ucGlkID0gcHJvZ3JhbS5waWQ7CiAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpZHhdLnJlYm9vdHMgPSBwcm9ncmFtLnJlYm9vdHM7CiAgICAgICAgICBhY3R1YWxQcm9ncmFtcy52YWx1ZVtpZHhdWyJjbGFzcyJdID0gYWN0dWFsUHJvZ3JhbXMudmFsdWVbaWR4XVsiY2xhc3MiXS5yZXBsYWNlKC9hbGVydC9nLCAibm9ybWFsIik7CgogICAgICAgICAgdmFyIF9pdGVyYXRvcjEyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocHJvZ3JhbVsibW9kdWxlcyJdKSwKICAgICAgICAgICAgICBfc3RlcDEyOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTIucygpOyAhKF9zdGVwMTIgPSBfaXRlcmF0b3IxMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgdmFyIG5ld01vZHVsZSA9IF9zdGVwMTIudmFsdWU7CgogICAgICAgICAgICAgIGlmIChuZXdNb2R1bGVbIm5hbWUiXSA9PSAiY29tcG9uZW50MiIgJiYgbmV3TW9kdWxlWyJmYWlscyJdID4gbmV3TW9kdWxlWyJ0cmFkZXMiXSkgewogICAgICAgICAgICAgICAgYWN0dWFsUHJvZ3JhbXMudmFsdWVbaWR4XVsiY2xhc3MiXSA9ICJhbGVydCI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMTIuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yMTIuZigpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBfaXRlcmF0b3IxMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHByb2dyYW1bIm1vZHVsZXMiXSksCiAgICAgICAgICAgICAgX3N0ZXAxMzsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjEzLnMoKTsgIShfc3RlcDEzID0gX2l0ZXJhdG9yMTMubigpKS5kb25lOykgewogICAgICAgICAgICAgIG5ld01vZHVsZSA9IF9zdGVwMTMudmFsdWU7CgogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyMCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFjdHVhbFByb2dyYW1zLnZhbHVlW2lkeF1bIm1vZHVsZXMiXSksCiAgICAgICAgICAgICAgICAgIF9zdGVwMjA7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIwLnMoKTsgIShfc3RlcDIwID0gX2l0ZXJhdG9yMjAubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICB2YXIgb2xkTW9kdWxlID0gX3N0ZXAyMC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgIGlmIChuZXdNb2R1bGVbIm5hbWUiXSA9PSBvbGRNb2R1bGVbIm5hbWUiXSkgewogICAgICAgICAgICAgICAgICAgIG9sZE1vZHVsZSA9IG5ld01vZHVsZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMjAuZShlcnIpOwogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IyMC5mKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAobmV3TW9kdWxlWyJuYW1lIl0gPT0gImxvZyIpIHsKICAgICAgICAgICAgICAgIGlmIChuZXdNb2R1bGVbImxldmVsIl0gPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgIGNvbG9yID0gImNvbG9yOiAjNjdjMjNhIjsgLy8gc3VjY2VzcwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdNb2R1bGVbImxldmVsIl0gPT0gIjEiKSB7CiAgICAgICAgICAgICAgICAgIGNvbG9yID0gImNvbG9yOiAjZTZhMjNjIjsgLy8gd2FybmluZwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdNb2R1bGVbImxldmVsIl0gPT0gIjIiKSB7CiAgICAgICAgICAgICAgICAgIGNvbG9yID0gImNvbG9yOiAjZmYxNjAyIjsgLy8gYWxlcnQgI2Y1NmM2YyAjZjIwYzAwCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb2xvciA9ICJjb2xvcjogIzkwOTM5OSI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbG9ncy52YWx1ZS5wdXNoKHsKICAgICAgICAgICAgICAgICAgaWQ6IHByb2dyYW0uaWQsCiAgICAgICAgICAgICAgICAgIHRleHQ6IG5ld01vZHVsZVsidGV4dCJdLAogICAgICAgICAgICAgICAgICBsZXZlbDogbmV3TW9kdWxlWyJsZXZlbCJdLAogICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgICAgICAgICAgIGN0aW1lOiBuZXdNb2R1bGVbImN0aW1lIl0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjEzLmUoZXJyKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjEzLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobG9ncy52YWx1ZS5sZW5ndGggPiA0MCkgewogICAgICAgICAgICBsb2dzLnZhbHVlID0gbG9ncy52YWx1ZS5zbGljZShsb2dzLnZhbHVlLmxlbmd0aCAtIDQwKTsKICAgICAgICAgIH0KCiAgICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IFtdOwoKICAgICAgICAgIGlmIChpc0dyb3VwaW5nLnZhbHVlKSB7CiAgICAgICAgICAgIGlmIChhY3RpdmVHcm91cElkeC52YWx1ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IxNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGdyb3VwZWQudmFsdWUpLAogICAgICAgICAgICAgICAgICBfc3RlcDE0OwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxNC5zKCk7ICEoX3N0ZXAxNCA9IF9pdGVyYXRvcjE0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgZ3JvdXAgPSBfc3RlcDE0LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgaWYgKGdyb3VwLmlkID09PSBhY3RpdmVHcm91cElkeC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IxNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFjdHVhbFByb2dyYW1zLnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZXAxNTsKCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTUucygpOyAhKF9zdGVwMTUgPSBfaXRlcmF0b3IxNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW0gPSBfc3RlcDE1LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyYW0uZ3JvdXAgPT09IGFjdGl2ZUdyb3VwSWR4LnZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbXMudmFsdWUucHVzaChwcm9ncmFtKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTUuZShlcnIpOwogICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IxNS5mKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSBudWxsOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yMTYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihhY3R1YWxQcm9ncmFtcy52YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgIF9zdGVwMTY7CgogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjE2LnMoKTsgIShfc3RlcDE2ID0gX2l0ZXJhdG9yMTYubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtID0gX3N0ZXAxNi52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtLmdyb3VwID09IGdyb3VwLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyYW1bImNsYXNzIl0uaW5kZXhPZigiYWxlcnQiKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZ3JvdXAubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhbGVydCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyR01WOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEdNVjogMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbHM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9ncmFtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAibm9ybWFsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsczogMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJHTVY6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4R01WOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAiY29tcG9uZW50MyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdhZ2VkOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdQcm9ncmFtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjE2LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTYuZigpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb2dyYW0gIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW1zLnZhbHVlLnB1c2gobmV3UHJvZ3JhbSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IxNC5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjE0LmYoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjE3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZ3JvdXBlZC52YWx1ZSksCiAgICAgICAgICAgICAgICAgIF9zdGVwMTc7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjE3LnMoKTsgIShfc3RlcDE3ID0gX2l0ZXJhdG9yMTcubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICBncm91cCA9IF9zdGVwMTcudmFsdWU7CiAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSBudWxsOwoKICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjE4ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYWN0dWFsUHJvZ3JhbXMudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgX3N0ZXAxODsKCiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IxOC5zKCk7ICEoX3N0ZXAxOCA9IF9pdGVyYXRvcjE4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW0gPSBfc3RlcDE4LnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtLmdyb3VwID09IGdyb3VwLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmFtWyJjbGFzcyJdLmluZGV4T2YoImFsZXJ0IikgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvZ3JhbSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdyb3VwLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogImFsZXJ0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZXM6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQxIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFkZXM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxzOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyckdNVjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4R01WOiAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICJjb21wb25lbnQzIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5nYWdlZDogMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb2dyYW0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJub3JtYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlczogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnM6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlczogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHM6IDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyR01WOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhHTVY6IDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogImNvbXBvbmVudDMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW1ib2xzOiAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmdhZ2VkOiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3UHJvZ3JhbSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjE4LmUoZXJyKTsKICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IxOC5mKCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9ncmFtICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbXMudmFsdWUucHVzaChuZXdQcm9ncmFtKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMTcuZShlcnIpOwogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBfaXRlcmF0b3IxNy5mKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKG9ubHlTaG93QWxlcnQudmFsdWUpIHsKICAgICAgICAgICAgdmFyIG5vcm1hbCA9IFtdOwogICAgICAgICAgICB2YXIgYWJub3JtYWwgPSBbXTsKCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3IxOSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGFjdHVhbFByb2dyYW1zLnZhbHVlKSwKICAgICAgICAgICAgICAgIF9zdGVwMTk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMTkucygpOyAhKF9zdGVwMTkgPSBfaXRlcmF0b3IxOS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICBwcm9ncmFtID0gX3N0ZXAxOS52YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAocHJvZ3JhbVsiY2xhc3MiXS5pbmRleE9mKCJhbGVydCIpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICBhYm5vcm1hbC5wdXNoKHByb2dyYW0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbm9ybWFsLnB1c2gocHJvZ3JhbSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IxOS5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMTkuZigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwcm9ncmFtcy52YWx1ZSA9IG5vcm1hbC5jb25jYXQoYWJub3JtYWwpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcHJvZ3JhbXMudmFsdWUgPSBhY3R1YWxQcm9ncmFtcy52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJvd3MudmFsdWUgPSBNYXRoLmNlaWwocHJvZ3JhbXMudmFsdWUubGVuZ3RoIC8gY29scy52YWx1ZSk7CiAgICAgIH0sIGZ1bmN0aW9uIGZhaWxIYW5kbGVyKCkgewogICAgICAgIEVsTWVzc2FnZS5lcnJvcigiZmFpbHVyZSIgKyAiOiIgKyByZXNwb25zZS5tc2cpOwogICAgICB9LCBmdW5jdGlvbiAoKSB7Ly8gbm90aGluZwogICAgICB9KTsKICAgIH07IC8vIGNvbnN0IHN0YXJ0UXVlcnlTdGF0dXMgPSAoKSA9PiB7CiAgICAvLyAgIGNvbnNvbGUubG9nKCJxdWVyeS4uLiIpOwogICAgLy8gICAvLyAgIGxldCB1cmwgPSAncXVvdGVyL2FsbCcKICAgIC8vICAgcXVlcnkuZnJvbSA9IDA7CiAgICAvLyAgIHF1ZXJ5LnRvID0gImp1bXAgdHJhZGluZyI7CiAgICAvLyAgIGh0dHAuZ2V0KCJxdW90ZXIvYWxsIiwgcXVlcnksIE9iamVjdCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICBwcm9ncmFtcy52YWx1ZSA9IHJlc3BvbnNlLmRhdGEucXVvdGVyczsKICAgIC8vICAgfSk7CiAgICAvLyB9OwogICAgLy8gY29uc3Qgc3RvcFF1ZXJ5U3RhdHVzID0gKCkgPT4gewogICAgLy8gICBjbGVhckludGVydmFsKHF1ZXJ5VGltZXIudmFsdWUpCiAgICAvLyAgIHF1ZXJ5VGltZXIudmFsdWUgPSBudWxsCiAgICAvLyB9CiAgICAvLyBjb25zdCBoYW5kbGVDbGlja0NhcmQgPSAocm93LCBjb2wpID0+IHsKICAgIC8vICAgICBjb25zb2xlLmxvZyhyb3csIGNvbCkKICAgIC8vIH0KICAgIC8vIGNvbnN0IGVudGVyVGh1bWJuYWlsID0gKGluZGV4KSA9PiB7CiAgICAvLyAgIGNvbnNvbGUubG9nKGluZGV4KTsKICAgIC8vICAgY29uc29sZS5sb2cocHJvZ3JhbXMudmFsdWVbaW5kZXhdKTsKICAgIC8vICAgcHJvZ3JhbXMudmFsdWVbaW5kZXhdLmlzU2hvd1BvcE92ZXIgPSB0cnVlOwogICAgLy8gfTsKICAgIC8vIGNvbnN0IGxlYXZlVGh1bW5haWwgPSAoaW5kZXgpID0+IHsKICAgIC8vICAgcHJvZ3JhbXMudmFsdWVbaW5kZXhdLmlzU2hvd1BvcE92ZXIgPSBmYWxzZTsKICAgIC8vIH07CiAgICAvLyBjb25zdCBjbGlja1BvcCA9IChpbmRleCkgPT4gewogICAgLy8gICBpZiAoYWN0aXZlSWQudmFsdWUgPT0gaW5kZXggJiYgc2hvd1BvcC52YWx1ZSkgcmV0dXJuOwogICAgLy8gICBzaG93UG9wLnZhbHVlID0gZmFsc2U7CiAgICAvLyAgIGFjdGl2ZUlkLnZhbHVlID0gaW5kZXg7CiAgICAvLyAgIG5leHRUaWNrKCgpID0+IHsKICAgIC8vICAgICBzaG93UG9wLnZhbHVlID0gdHJ1ZTsKICAgIC8vICAgICBuZXh0VGljaygoKSA9PiB7CiAgICAvLyAgICAgICBwb3AudmFsdWU/LmRvU2hvdygpOwogICAgLy8gICAgIH0pOwogICAgLy8gICB9KTsKICAgIC8vIH07CgoKICAgIHZhciBzaG93RHJhd2VyID0gZnVuY3Rpb24gc2hvd0RyYXdlcigpIHsKICAgICAgY29uc29sZS5sb2coImNsaWNrZWQiKTsKICAgICAgdmlzaWJsZS52YWx1ZSA9IHRydWU7IC8vIGVudHJ5X2RyYXdlci52YWx1ZS5zaG93KHByb2dyYW1zKQogICAgfTsgLy8gcXVlcnlUaW1lci52YWx1ZSA9IHNldEludGVydmFsKHN0YXJ0UXVlcnlTdGF0dXMsIDEwMDAwKQogICAgLy8gc3RhcnRRdWVyeVN0YXR1cygpCgoKICAgIGlmICh0eXBlb2YgV2ViU29ja2V0ID09ICJ1bmRlZmluZWQiKSB7CiAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogIldlYnNvY2tldCBpcyB1bnN1cHBvcnRlZCwgcGxlYXNlIHVzZSBDaHJvbWUiLAogICAgICAgIGdyb3VwaW5nOiB0cnVlLAogICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAvLyBjb25zdCBzb2NrZXRVcmwgPSAnd3M6Ly9sb2NhbGhvc3Q6NjkxOS93eC8/bGV2ZWw9YWxsJmtleT1hbGwnCiAgICAgIC8vIHNvY2tldFVybCA9ICJ3czovLzcuMTUxLjE2Ljk5OjY5MTkvcXVvdGVyL2FsbC9hbGwiOwogICAgICBzb2NrZXRVcmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1dFQlNPQ0tFVF9VUkwgKyAicXVvdGVyL2FsbC9hbGwiOwogICAgICBjcmVhdGVOZXdTb2NrZXQoKTsKICAgIH0KCiAgICB2YXIgX19yZXR1cm5lZF9fID0gewogICAgICB0aW1lSW5mbzogdGltZUluZm8sCiAgICAgIGpzb25EYXRhOiBqc29uRGF0YSwKICAgICAgZm9ybWF0VGltZUluZm86IGZvcm1hdFRpbWVJbmZvLAogICAgICBoYW5kbGVUaW1lOiBoYW5kbGVUaW1lLAogICAgICBob3N0OiBob3N0LAogICAgICBncm91cGVkOiBncm91cGVkLAogICAgICBob3N0czogaG9zdHMsCiAgICAgIG9ubHlTaG93QWxlcnQ6IG9ubHlTaG93QWxlcnQsCiAgICAgIGFjdHVhbFByb2dyYW1zOiBhY3R1YWxQcm9ncmFtcywKICAgICAgcHJvZ3JhbXM6IHByb2dyYW1zLAogICAgICBsb2dzOiBsb2dzLAogICAgICBhY3RpdmVHcm91cElkeDogYWN0aXZlR3JvdXBJZHgsCiAgICAgIGFjdGl2ZVBnSWR4OiBhY3RpdmVQZ0lkeCwKICAgICAgYWN0aXZlU2VsZWN0aW9uOiBhY3RpdmVTZWxlY3Rpb24sCiAgICAgIGlzR3JvdXBpbmc6IGlzR3JvdXBpbmcsCiAgICAgIHNldHRpbmdWaXNpYmxlOiBzZXR0aW5nVmlzaWJsZSwKICAgICAgc29ja2V0OiBzb2NrZXQsCiAgICAgIHNvY2tldFVybDogc29ja2V0VXJsLAogICAgICBjcmVhdGVOZXdTb2NrZXQ6IGNyZWF0ZU5ld1NvY2tldCwKICAgICAgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsCiAgICAgIGZvcm1hdExvZ1RpdGxlOiBmb3JtYXRMb2dUaXRsZSwKICAgICAgc2V0T3BhY2l0eTogc2V0T3BhY2l0eSwKICAgICAgZW50ZXJCb3g6IGVudGVyQm94LAogICAgICBsZWF2ZUJveDogbGVhdmVCb3gsCiAgICAgIGxvZ0NvbnRhaW5lcjogbG9nQ29udGFpbmVyLAogICAgICByb3dzOiByb3dzLAogICAgICBjb2xzOiBjb2xzLAogICAgICB2aXNpYmxlOiB2aXNpYmxlLAogICAgICBxdWVyeTogcXVlcnksCiAgICAgIG51bWJlcktleXM6IG51bWJlcktleXMsCiAgICAgIHRhYmxlUm93Q2xhc3NOYW1lOiB0YWJsZVJvd0NsYXNzTmFtZSwKICAgICAgZm9ybWF0R01WOiBmb3JtYXRHTVYsCiAgICAgIGZvcm1hdFN5bWJvbHM6IGZvcm1hdFN5bWJvbHMsCiAgICAgIHBhcnNlU29ja2V0TXNnOiBwYXJzZVNvY2tldE1zZywKICAgICAgc2hvd0RyYXdlcjogc2hvd0RyYXdlciwKICAgICAgSnNvblZpZXdlcjogSnNvblZpZXdlcgogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfSk7"},{"version":3,"mappings":"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","names":["defineComponent","_defineComponent","reactive","onBeforeUnmount","ref","watch","ElMessage","dealResponseCode","formatTime","WEEK","JsonViewer","name","setup","__props","expose","timeInfo","setInterval","dateDay","dateYear","dateWeek","jsonData","total","limit","skip","links","previous","undefined","data","id","firstname","lastname","awards","known","position","lat","lng","description","bornAt","diedAt","formatTimeInfo","date","Date","getDay","handleTime","host","grouped","hosts","onlyShowAlert","actualPrograms","programs","logs","activeGroupIdx","activePgIdx","activeSelection","isGrouping","settingVisible","socket","socketUrl","createNewSocket","close","WebSocket","onopen","onmessage","parseSocketMsg","onerror","message","grouping","type","onclose","handleSelect","key","keyPath","value","process","env","VUE_APP_WEBSOCKET_URL","formatLogTitle","index","program","ctime","setOpacity","isOpacity","class","replace","newValue","oldValue","normal","abnormal","indexOf","push","concat","rows","Math","ceil","length","cols","console","log","group","newProgram","modules","orders","trades","fails","currGMV","maxGMV","symbols","engaged","enterBox","leaveBox","logContainer","visible","query","from","to","number","numberKeys","tableRowClassName","row","rowIndex","second","since","formatGMV","formatSymbols","msg","response","JSON","parse","successHandler","i","level","color","text","groups","opacity","idx","pid","reboots","newModule","oldModule","slice","failHandler","error","showDrawer","__returned__","Object","defineProperty","enumerable"],"sourceRoot":"","sources":["/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport {\n  reactive,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  ref,\n  watch,\n  defineComponent,\n} from \"vue\";\nimport { Setting } from \"@element-plus/icons-vue\";\n// import EntryDrawer from './components/entrydrawer.vue'\nimport http from \"@/utils/network/http\";\nimport { ElMessage } from \"_element-plus@1.2.0-beta.6@element-plus/es\";\nimport { dealResponseCode } from \"@/utils/functions\";\nimport { formatTime } from \"@/utils/index\";\nimport { subtitle, WEEK } from \"@/constant/index\";\nimport JsonViewer from \"vue3-json-viewer\";\n\n// import scroll from \"vue-seamless-scroll\";\n\n// const currentDate = ref(new Date())\n// let entry_drawer = ref(null)\n// const programsNum = ref(0)\n\n\nexport default /*#__PURE__*/_defineComponent({\n  name: 'index',\n  setup(__props, { expose }) {\n  expose();\n\nconst timeInfo = reactive({\n  setInterval: 0,\n  dateDay: \"\",\n  dateYear: \"\",\n  dateWeek: \"\",\n});\n\nconst jsonData = {\n  total: 25,\n  limit: 10,\n  skip: 0,\n  links: {\n    previous: undefined,\n  },\n  data: [\n    {\n      id: \"5968fcad629fa84ab65a5247\",\n      firstname: \"Ada\",\n      lastname: \"Lovelace\",\n      awards: null,\n      known: [\"mathematics\", \"computing\"],\n      position: {\n        lat: 44.563836,\n        lng: 6.495139,\n      },\n      description: `Augusta Ada King, Countess of Lovelace (ne Byron; 10 December 1815  27 November 1852) was an English mathematician and writer,\n            chiefly known for her work on Charles Babbage's proposed mechanical general-purpose computer,\n            the Analytical Engine. She was the first to recognise that the machine had applications beyond pure calculation,\n            and published the first algorithm intended to be carried out by such a machine.\n            As a result, she is sometimes regarded as the first to recognise the full potential of a \"computing machine\" and the first computer programmer.`,\n      bornAt: \"1815-12-10T00:00:00.000Z\",\n      diedAt: \"1852-11-27T00:00:00.000Z\",\n    },\n    {\n      id: \"5968fcad629fa84ab65a5246\",\n      firstname: \"Grace\",\n      lastname: \"Hopper\",\n      awards: [\n        \"Defense Distinguished Service Medal\",\n        \"Legion of Merit\",\n        \"Meritorious Service Medal\",\n        \"American Campaign Medal\",\n        \"World War II Victory Medal\",\n        \"National Defense Service Medal\",\n        \"Armed Forces Reserve Medal\",\n        \"Naval Reserve Medal\",\n        \"Presidential Medal of Freedom\",\n      ],\n      known: null,\n      position: {\n        lat: 43.614624,\n        lng: 3.879995,\n      },\n      description: `Grace Brewster Murray Hopper (ne Murray; December 9, 1906  January 1, 1992)\n            was an American computer scientist and United States Navy rear admiral.\n            One of the first programmers of the Harvard Mark I computer,\n            she was a pioneer of computer programming who invented one of the first compiler related tools.\n            She popularized the idea of machine-independent programming languages, which led to the development of COBOL,\n            an early high-level programming language still in use today.`,\n      bornAt: \"1815-12-10T00:00:00.000Z\",\n      diedAt: \"1852-11-27T00:00:00.000Z\",\n    },\n  ],\n};\n// const data = [\n//   {\n//     value: '1',\n//     label: 'Level one 1',\n//     children: [\n//       {\n//         value: '1-1',\n//         label: 'Level two 1-1',\n//         children: [\n//           {\n//             value: '1-1-1',\n//             label: 'Level three 1-1-1',\n//           },\n//         ],\n//       },\n//     ],\n//   },\n//   {\n//     value: '2',\n//     label: 'Level one 2',\n//     children: [\n//       {\n//         value: '2-1',\n//         label: 'Level two 2-1',\n//         children: [\n//           {\n//             value: '2-1-1',\n//             label: 'Level three 2-1-1',\n//           },\n//         ],\n//       },\n//       {\n//         value: '2-2',\n//         label: 'Level two 2-2',\n//         children: [\n//           {\n//             value: '2-2-1',\n//             label: 'Level three 2-2-1',\n//           },\n//         ],\n//       },\n//     ],\n//   },\n//   {\n//     value: '3',\n//     label: 'Level one 3',\n//     children: [\n//       {\n//         value: '3-1',\n//         label: 'Level two 3-1',\n//         children: [\n//           {\n//             value: '3-1-1',\n//             label: 'Level three 3-1-1',\n//           },\n//         ],\n//       },\n//       {\n//         value: '3-2',\n//         label: 'Level two 3-2',\n//         children: [\n//           {\n//             value: '3-2-1',\n//             label: 'Level three 3-2-1',\n//           },\n//         ],\n//       },\n//     ],\n//   },\n// ]\n\nconst formatTimeInfo = () => {\n  const date = new Date();\n  timeInfo.dateDay = formatTime(date, \"HH: mm: ss\");\n  timeInfo.dateYear = formatTime(date, \"yyyy-MM-dd\");\n  timeInfo.dateWeek = WEEK[date.getDay()];\n};\n\nconst handleTime = () => {\n  timeInfo.setInterval = setInterval(() => {\n    formatTimeInfo();\n  }, 1000);\n};\n\nformatTimeInfo();\nhandleTime();\n\nlet host = ref(null);\n// const hosts = [\n//   {\n//     value: \"fpis_kbsiml14\",\n//     label: \"fpis_kbsiml14\",\n//   },\n//   {\n//     value: \"fpis_kbsiml35\",\n//     label: \"fpis_kbsiml35\",\n//   },\n//   {\n//     value: \"fpis_kbsiml66\",\n//     label: \"fpis_kbsiml66\",\n//   },\n// ];\n\nlet grouped = ref([]);\nlet hosts = ref([]);\n\nlet onlyShowAlert = ref(false);\nlet actualPrograms = ref([]); // the stored whole programs\nlet programs = ref([]); // for show\n\nlet logs = ref([]);\nconst activeGroupIdx = ref(null);\nlet activePgIdx = ref(null);\nconst activeSelection = ref(\"all\");\nlet isGrouping = ref(false);\nlet settingVisible = ref(false);\n\nlet socket, socketUrl;\nconst createNewSocket = () => {\n  if (socket !== undefined) {\n    socket.close();\n  }\n\n  socket = new WebSocket(socketUrl);\n\n  socket.onopen = function () {\n    // console.log(\"socket opened...\");\n    // socket.send(JSON.stringify({username: \"bliu\",msg: \"test websocket\"}));\n  };\n\n  socket.onmessage = parseSocketMsg;\n\n  socket.onerror = function () {\n    ElMessage({\n      message: \"Websocket error\",\n      grouping: true,\n      type: \"error\",\n    });\n  };\n\n  socket.onclose = function () {\n    // console.log(\"Websocket closed......\");\n  };\n};\n\nconst handleSelect = (key: string, keyPath: string[]) => {\n  if (keyPath[0] == \"organize\") {\n    onlyShowAlert.value = key == \"Alert Only\";\n    isGrouping.value = false;\n    return;\n  }\n\n  if (keyPath[0] == \"all\") {\n    isGrouping.value = true;\n    // socketUrl = \"ws://192.168.0.120:6919/quoter/all/all\";\n    // socketUrl = \"ws://7.151.16.99:6919/quoter/all/all\";\n    socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/all/all\";\n  } else if (keyPath[0] == \"host\") {\n    isGrouping.value = false;\n    // socketUrl = \"ws://192.168.0.120:6919/quoter/host/\" + key;\n    socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/host/\" + key;\n    // socketUrl = \"ws://7.151.16.99:6919/quoter/host/\" + key\n  } else if (keyPath[0] == \"strategy\") {\n    isGrouping.value = false;\n    // socketUrl = \"ws://192.168.0.120:6919/quoter/strategy/\" + key;\n    socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/strategy/\" + key;\n    // socketUrl = \"ws://7.151.16.99:6919/quoter/strategy/\" + key\n  }\n\n  createNewSocket();\n};\n\nconst formatLogTitle = (index) => {\n  for (var program of actualPrograms.value) {\n    if (logs.value[index].id === program.id) {\n      return (\n        \"[\" +\n        logs.value[index].ctime +\n        \"]:\" +\n        program.name +\n        \"@\" +\n        hosts.value[program.host - 1].name\n      );\n    }\n  }\n};\n\nconst setOpacity = (index, isOpacity) => {\n  if (isOpacity) {\n    programs.value[index].class = programs.value[index].class + \" opacity\";\n  } else {\n    programs.value[index].class = programs.value[index].class.replace(\n      /opacity/g,\n      \"\"\n    );\n  }\n};\n\nwatch(onlyShowAlert, (newValue, oldValue) => {\n  if (newValue) {\n    programs.value = [];\n    var normal = [];\n    var abnormal = [];\n    for (var program of actualPrograms.value) {\n      if (program[\"class\"].indexOf(\"alert\") !== -1) {\n        abnormal.push(program);\n      } else {\n        normal.push(program);\n      }\n    }\n    programs.value = normal.concat(abnormal);\n  } else {\n    programs.value = actualPrograms.value;\n  }\n  rows.value = Math.ceil(programs.value.length / cols.value);\n});\n\nwatch(activeGroupIdx, (newValue, oldValue) => {\n  console.log(newValue, \"<----\", oldValue);\n  if (newValue == null) {\n    if (isGrouping.value) {\n      programs.value = [];\n      for (var group of grouped.value) {\n        var newProgram = null;\n        for (var program of actualPrograms.value) {\n          if (program.group == group.id) {\n            if (program[\"class\"].indexOf(\"alert\") !== -1) {\n              newProgram = {\n                group: group.id,\n                name: group.name,\n                class: \"alert\",\n                modules: [\n                  { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                  { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                  { name: \"component3\", symbols: 0, engaged: 0 },\n                ],\n              };\n            } else {\n              newProgram = {\n                group: group.id,\n                name: group.name,\n                class: \"normal\",\n                modules: [\n                  { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                  { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                  { name: \"component3\", symbols: 0, engaged: 0 },\n                ],\n              };\n            }\n          }\n        }\n        if (newProgram !== null) {\n          programs.value.push(newProgram);\n        }\n      }\n    }\n\n    for (program of programs.value) {\n      program.class = program.class.replace(/opacity/g, \"\");\n    }\n  } else {\n    if (isGrouping.value) {\n      programs.value = [];\n      for (group of grouped.value) {\n        if (group.id === newValue) {\n          for (program of actualPrograms.value) {\n            if (program.group === newValue) {\n              programs.value.push(program);\n            }\n          }\n        } else {\n          newProgram = null;\n          for (program of actualPrograms.value) {\n            if (program.group == group.id) {\n              if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                newProgram = {\n                  group: group.id,\n                  name: group.name,\n                  class: \"alert\",\n                  modules: [\n                    { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                    { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                    { name: \"component3\", symbols: 0, engaged: 0 },\n                  ],\n                };\n                break;\n              } else {\n                newProgram = {\n                  group: group.id,\n                  name: group.name,\n                  class: \"normal\",\n                  modules: [\n                    { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                    { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                    { name: \"component3\", symbols: 0, engaged: 0 },\n                  ],\n                };\n              }\n            } else if (newProgram !== null) {\n              break;\n            }\n          }\n          if (newProgram !== null) {\n            programs.value.push(newProgram);\n          }\n        }\n      }\n    }\n    for (program of programs.value) {\n      if (program.group != newValue) {\n        program.class = program.class + \" opacity\";\n      } else {\n        program.class = program.class.replace(/opacity/g, \"\");\n        // ElMessage({\n        //   message: grouped.value[program.group].name,\n        //   grouping: true,\n        //   type: \"success\",\n        // });\n      }\n    }\n\n    // var oldGroupIdx = -1,\n    //   newGroupIdx = -1;\n    // for (var group of grouped.value) {\n    //   var idx = group.programs.indexOf(newValue);\n    //   if (idx !== -1) {\n    //     newGroupIdx = idx;\n    //     for (idx of group.programs) {\n    //       setOpacity(idx, false);\n    //     }\n    //   }\n    //   if (oldValue !== null) {\n    //     idx = group.programs.indexOf(oldValue);\n    //     if (idx !== -1) {\n    //       oldGroupIdx = idx;\n    //     }\n    //   }\n\n    //   if ((oldGroupIdx !== -1 || oldValue == null) && newGroupIdx !== -1) {\n    //     break;\n    //   }\n    // }\n  }\n});\nconst enterBox = (index) => {\n  activePgIdx.value = index;\n  console.log(\"programs:\", programs.value);\n  activeGroupIdx.value = programs.value[index].group;\n  // console.log(\"enter...\");\n  // for ( var i = 0; i < programs.value.length; ++i) {\n  //   console.log(\"Before\", programs.value[i].class)\n  //   programs.value[i].class.replace(/opacity/g, \"\")\n  //   if ( i != index ) {\n  //     programs.value[i].class += \" opacity\"\n  //   }\n  //   console.log(\"After\", programs.value[i].class)\n  // }\n};\n\nconst leaveBox = () => {\n  console.log(\"leave...\");\n  activePgIdx.value = null;\n  activeGroupIdx.value = null;\n  // for ( var i = 0; i < programs.value.length; ++i) {\n  //   programs.value[i].class.replace(/opacity/g, \"\")\n  // }\n};\n\nconst logContainer = ref(null);\nlet rows = ref(0);\nlet cols = ref(24);\nlet visible = ref(false);\n// let queryTimer = ref(null)\nlet query = {\n  from: null,\n  to: null,\n  name: null,\n  number: null,\n};\nconst numberKeys = [\"orders\", \"trades\", \"fails\", \"currGMV\", \"maxGMV\"];\n\n// let programs_keys = ref([]);\n\nonBeforeUnmount(() => {\n  console.log(\"onBeforeUnmount\");\n  //   stopQueryStatus()\n});\n\nconst tableRowClassName = ({ row, rowIndex }) => {\n  console.log(\"row....\", row.second.fails, row.second.fails > 300);\n  if (row.second.fails > 300) {\n    return \"error-row\";\n  } else if (row.second.since == \"\") {\n    return \"warning-row\";\n  }\n  return \"\";\n};\n\nconst formatGMV = (currGMV, maxGMV) => {\n  return () => {\n    return \"Curr:\" + currGMV; // + \",Max:\" + maxGMV;\n  };\n};\n\nconst formatSymbols = (symbols, engaged) => {\n  return () => {\n    return \"Symbols:\" + symbols + \",Engaged: \" + engaged;\n  };\n};\n\nconst parseSocketMsg = (msg) => {\n  var response = JSON.parse(msg.data);\n  console.log(\"response\");\n  console.log(response);\n  dealResponseCode(\n    response,\n    function successHandler() {\n      // first time: get the whole programs\n      if (response.data.programs !== undefined) {\n        onlyShowAlert.value = false;\n        actualPrograms.value = [];\n        programs.value = [];\n        grouped.value = [];\n        hosts.value = [];\n        logs.value = [];\n        rows.value = 0;\n        activePgIdx.value = null;\n        activeGroupIdx.value = null;\n\n        if (response.data.logs !== undefined) {\n          for (i = 0; i < response.data.logs.length; ++i) {\n            if (response.data.logs[i].level == \"0\") {\n              var color = \"color: #67c23a\"; // success\n            } else if (response.data.logs[i].level == \"1\") {\n              color = \"color: #e6a23c\"; // warning\n            } else if (response.data.logs[i].level == \"2\") {\n              color = \"color: #ff1602\"; // alert #f56c6c #f20c00\n            } else {\n              color = \"color: #909399\";\n            }\n            logs.value.push({\n              id: response.data.logs[i].program,\n              text: response.data.logs[i].text,\n              level: response.data.logs[i].level,\n              color: color,\n              ctime: response.data.logs[i].ctime,\n            });\n          }\n        }\n\n        grouped.value = response.data.groups;\n        for (var i = 0; i < grouped.value.length; ++i) {\n          grouped.value[i].opacity = 1;\n        }\n        console.log(\"coming hosts...\");\n        console.log(response.data.hosts);\n        hosts.value = response.data.hosts;\n        console.log(\"parsed hosts\");\n        console.log(hosts.value);\n        actualPrograms.value = response.data.programs;\n\n        for (i = 0; i < actualPrograms.value.length; ++i) {\n          if (actualPrograms.value[i].modules == undefined) {\n            actualPrograms.value[i].modules = [];\n            actualPrograms.value[i][\"class\"] = \"dead blink-border\";\n          } else if (\n            actualPrograms.value[i].modules[0].fails >\n            actualPrograms.value[i].modules[0].trades\n          ) {\n            actualPrograms.value[i][\"class\"] = \"alert\";\n          } else {\n            actualPrograms.value[i][\"class\"] = \"normal\";\n          }\n        }\n\n        if (isGrouping.value) {\n          for (var group of grouped.value) {\n            var newProgram = null;\n            for (var program of actualPrograms.value) {\n              if (program.group == group.id) {\n                if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                  newProgram = {\n                    group: group.id,\n                    name: group.name,\n                    class: \"alert\",\n                    modules: [\n                      { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                      { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                      { name: \"component3\", symbols: 0, engaged: 0 },\n                    ],\n                  };\n                } else {\n                  newProgram = {\n                    group: group.id,\n                    name: group.name,\n                    class: \"normal\",\n                    modules: [\n                      { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                      { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                      { name: \"component3\", symbols: 0, engaged: 0 },\n                    ],\n                  };\n                }\n              }\n            }\n            if (newProgram !== null) {\n              programs.value.push(newProgram);\n            }\n          }\n        } else {\n          programs.value = actualPrograms.value;\n        }\n\n        console.log(\"Programs: \", programs.value);\n        console.log(\"actualPrograms: \", actualPrograms.value);\n      } else {\n        program = response.data.program;\n        for (var idx = 0; idx < actualPrograms.value.length; ++idx) {\n          if (actualPrograms.value[idx].id == program.id) {\n            break;\n          }\n        }\n\n        actualPrograms.value[idx].group = program.group;\n        actualPrograms.value[idx].host = program.host;\n        actualPrograms.value[idx].pid = program.pid;\n        actualPrograms.value[idx].reboots = program.reboots;\n\n        actualPrograms.value[idx][\"class\"] = actualPrograms.value[idx][\n          \"class\"\n        ].replace(/alert/g, \"normal\");\n        for (var newModule of program[\"modules\"]) {\n          if (\n            newModule[\"name\"] == \"component2\" &&\n            newModule[\"fails\"] > newModule[\"trades\"]\n          ) {\n            actualPrograms.value[idx][\"class\"] = \"alert\";\n          }\n        }\n\n        for (newModule of program[\"modules\"]) {\n          for (var oldModule of actualPrograms.value[idx][\"modules\"]) {\n            if (newModule[\"name\"] == oldModule[\"name\"]) {\n              oldModule = newModule;\n            }\n          }\n          if (newModule[\"name\"] == \"log\") {\n            if (newModule[\"level\"] == \"0\") {\n              color = \"color: #67c23a\"; // success\n            } else if (newModule[\"level\"] == \"1\") {\n              color = \"color: #e6a23c\"; // warning\n            } else if (newModule[\"level\"] == \"2\") {\n              color = \"color: #ff1602\"; // alert #f56c6c #f20c00\n            } else {\n              color = \"color: #909399\";\n            }\n            logs.value.push({\n              id: program.id,\n              text: newModule[\"text\"],\n              level: newModule[\"level\"],\n              color: color,\n              ctime: newModule[\"ctime\"],\n            });\n          }\n        }\n        if (logs.value.length > 40) {\n          logs.value = logs.value.slice(logs.value.length - 40);\n        }\n\n        programs.value = [];\n        if (isGrouping.value) {\n          if (activeGroupIdx.value !== null) {\n            for (group of grouped.value) {\n              if (group.id === activeGroupIdx.value) {\n                for (program of actualPrograms.value) {\n                  if (program.group === activeGroupIdx.value) {\n                    programs.value.push(program);\n                  }\n                }\n              } else {\n                newProgram = null;\n                for (program of actualPrograms.value) {\n                  if (program.group == group.id) {\n                    if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                      newProgram = {\n                        group: group.id,\n                        name: group.name,\n                        class: \"alert\",\n                        modules: [\n                          {\n                            name: \"component1\",\n                            orders: 0,\n                            trades: 0,\n                            fails: 0,\n                          },\n                          { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                          { name: \"component3\", symbols: 0, engaged: 0 },\n                        ],\n                      };\n                      break;\n                    } else {\n                      newProgram = {\n                        group: group.id,\n                        name: group.name,\n                        class: \"normal\",\n                        modules: [\n                          {\n                            name: \"component1\",\n                            orders: 0,\n                            trades: 0,\n                            fails: 0,\n                          },\n                          { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                          { name: \"component3\", symbols: 0, engaged: 0 },\n                        ],\n                      };\n                    }\n                  } else if (newProgram !== null) {\n                    break;\n                  }\n                }\n                if (newProgram !== null) {\n                  programs.value.push(newProgram);\n                }\n              }\n            }\n          } else {\n            for (group of grouped.value) {\n              newProgram = null;\n              for (program of actualPrograms.value) {\n                if (program.group == group.id) {\n                  if (program[\"class\"].indexOf(\"alert\") !== -1) {\n                    newProgram = {\n                      group: group.id,\n                      name: group.name,\n                      class: \"alert\",\n                      modules: [\n                        { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                        { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                        { name: \"component3\", symbols: 0, engaged: 0 },\n                      ],\n                    };\n                    break;\n                  } else {\n                    newProgram = {\n                      group: group.id,\n                      name: group.name,\n                      class: \"normal\",\n                      modules: [\n                        { name: \"component1\", orders: 0, trades: 0, fails: 0 },\n                        { name: \"component2\", currGMV: 0, maxGMV: 1 },\n                        { name: \"component3\", symbols: 0, engaged: 0 },\n                      ],\n                    };\n                  }\n                } else if (newProgram !== null) {\n                  break;\n                }\n              }\n              if (newProgram !== null) {\n                programs.value.push(newProgram);\n              }\n            }\n          }\n        } else if (onlyShowAlert.value) {\n          var normal = [];\n          var abnormal = [];\n          for (program of actualPrograms.value) {\n            if (program[\"class\"].indexOf(\"alert\") !== -1) {\n              abnormal.push(program);\n            } else {\n              normal.push(program);\n            }\n          }\n          programs.value = normal.concat(abnormal);\n        } else {\n          programs.value = actualPrograms.value;\n        }\n      }\n      rows.value = Math.ceil(programs.value.length / cols.value);\n    },\n    function failHandler() {\n      ElMessage.error(\"failure\" + \":\" + response.msg);\n    },\n    () => {\n      // nothing\n    }\n  );\n};\n\n// const startQueryStatus = () => {\n//   console.log(\"query...\");\n//   //   let url = 'quoter/all'\n//   query.from = 0;\n//   query.to = \"jump trading\";\n\n//   http.get(\"quoter/all\", query, Object).then((response) => {\n//     programs.value = response.data.quoters;\n//   });\n// };\n\n// const stopQueryStatus = () => {\n//   clearInterval(queryTimer.value)\n//   queryTimer.value = null\n// }\n\n// const handleClickCard = (row, col) => {\n//     console.log(row, col)\n// }\n\n// const enterThumbnail = (index) => {\n//   console.log(index);\n//   console.log(programs.value[index]);\n//   programs.value[index].isShowPopOver = true;\n// };\n\n// const leaveThumnail = (index) => {\n//   programs.value[index].isShowPopOver = false;\n// };\n\n// const clickPop = (index) => {\n//   if (activeId.value == index && showPop.value) return;\n//   showPop.value = false;\n//   activeId.value = index;\n//   nextTick(() => {\n//     showPop.value = true;\n//     nextTick(() => {\n//       pop.value?.doShow();\n//     });\n//   });\n// };\n\nconst showDrawer = () => {\n  console.log(\"clicked\");\n  visible.value = true;\n  // entry_drawer.value.show(programs)\n};\n\n// queryTimer.value = setInterval(startQueryStatus, 10000)\n\n// startQueryStatus()\n\nif (typeof WebSocket == \"undefined\") {\n  ElMessage({\n    message: \"Websocket is unsupported, please use Chrome\",\n    grouping: true,\n    type: \"error\",\n  });\n} else {\n  // const socketUrl = 'ws://localhost:6919/wx/?level=all&key=all'\n  // socketUrl = \"ws://7.151.16.99:6919/quoter/all/all\";\n  socketUrl = process.env.VUE_APP_WEBSOCKET_URL + \"quoter/all/all\";\n  createNewSocket();\n}\n\nconst __returned__ = { timeInfo, jsonData, formatTimeInfo, handleTime, host, grouped, hosts, onlyShowAlert, actualPrograms, programs, logs, activeGroupIdx, activePgIdx, activeSelection, isGrouping, settingVisible, socket, socketUrl, createNewSocket, handleSelect, formatLogTitle, setOpacity, enterBox, leaveBox, logContainer, rows, cols, visible, query, numberKeys, tableRowClassName, formatGMV, formatSymbols, parseSocketMsg, showDrawer, JsonViewer }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"]}]}