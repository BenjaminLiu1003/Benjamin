{"remainingRequest":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--15-3!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--14-0!/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/utils/network/request.ts","dependencies":[{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/utils/network/request.ts","mtime":1646205752000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/babel.config.js","mtime":1638601854000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgRWxMb2FkaW5nLCBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwppbXBvcnQgTlByb2dyZXNzIGZyb20gIm5wcm9ncmVzcyI7CnZhciB0ZXh0ID0gImxvYWRpbmciOwp2YXIgbG9hZGluZzsKdmFyIHJlcXVlc3RDb3VudCA9IDA7Cgp2YXIgc2hvd0xvYWRpbmcgPSBmdW5jdGlvbiBzaG93TG9hZGluZygpIHsKICBpZiAocmVxdWVzdENvdW50ID09PSAwICYmICFsb2FkaW5nKSB7CiAgICBsb2FkaW5nID0gRWxMb2FkaW5nLnNlcnZpY2UoewogICAgICB0ZXh0OiB0ZXh0LAogICAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIiwKICAgICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIKICAgIH0pOwogIH0KCiAgKytyZXF1ZXN0Q291bnQ7Cn07Cgp2YXIgaGlkZUxvYWRpbmcgPSBmdW5jdGlvbiBoaWRlTG9hZGluZygpIHsKICAtLXJlcXVlc3RDb3VudDsKCiAgaWYgKHJlcXVlc3RDb3VudCA9PT0gMCkgewogICAgbG9hZGluZy5jbG9zZSgpOwogIH0KfTsKCmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KG1ldGhvZCwgdXJsLCBpbmZvLCBjb25maWcpIHsKICAvLyDliJvlu7pheGlvc+eahOWunuS+iwogIHZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgICBiYXNlVVJMOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PSAicHJvZHVjdGlvbiIgPyBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkxfUFJPRCA6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTF9ERVYsCiAgICB0aW1lb3V0OiAyMDAwMAogIH0pOwogIHZhciBjb25maWcwID0gewogICAgbWV0aG9kOiBtZXRob2QgPT09ICJERUxFVEUxIiA/ICJERUxFVEUiIDogbWV0aG9kLAogICAgdXJsOiB1cmwsCiAgICBkYXRhOiBtZXRob2QgPT09ICJQT1NUIiB8fCBtZXRob2QgPT09ICJQVVQiIHx8IG1ldGhvZCA9PT0gIkRFTEVURSIgPyBpbmZvIDogbnVsbCwKICAgIHBhcmFtczogbWV0aG9kID09PSAiR0VUIiB8fCBtZXRob2QgPT09ICJERUxFVEUxIiA/IGluZm8gOiBudWxsLAogICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgfTsKICBjb25maWcgPSBPYmplY3QuYXNzaWduKGNvbmZpZzAsIGNvbmZpZyk7IC8vIOivt+axguaLpuaIquWZqOmFjee9rgoKICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogICAgLy8gc2hvd0xvYWRpbmcoKTsKICAgIE5Qcm9ncmVzcy5zdGFydCgpOyAvLyDmr4/mrKHlj5HpgIHor7fmsYLkuYvliY3liKTmlq3mmK/lkKblrZjlnKh0b2tlbu+8jOWmguaenOWtmOWcqO+8jOWImee7n+S4gOWcqGh0dHDor7fmsYLnmoRoZWFkZXLpg73liqDkuIp0b2tlbu+8jOS4jeeUqOavj+asoeivt+axgumDveaJi+WKqOa3u+WKoOS6hgoKICAgIHZhciB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgIHRva2VuICYmIChjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gdG9rZW4pOwoKICAgIGlmIChjb25maWcubWV0aG9kID09PSAiUE9TVCIpIHsKICAgICAgY29uZmlnLmRhdGEgPSBKU09OLnN0cmluZ2lmeShjb25maWcuZGF0YSk7CiAgICB9CgogICAgcmV0dXJuIGNvbmZpZzsKICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgfSk7IC8vIOWTjeW6lOaLpuaIquWZqOmFjee9rgoKICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgLy8gaGlkZUxvYWRpbmcoKTsKICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGlmICghZXJyb3IucmVzcG9uc2UgfHwgIWVycm9yLnJlc3BvbnNlLnN0YXR1cykgewogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgfQoKICAgIHZhciBtZXNzYWdlOwoKICAgIHN3aXRjaCAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgIGNhc2UgNDAwOgogICAgICAgIG1lc3NhZ2UgPSAi6K+35rGC6ZSZ6K+vIjsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAxOgogICAgICAgIG1lc3NhZ2UgPSAi5peg5p2D6K6/6ZeuIjsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAzOgogICAgICAgIG1lc3NhZ2UgPSAiVG9rZW7ov4fmnJ/kuoYiOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgbWVzc2FnZSA9ICI0MDQiOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDg6CiAgICAgICAgbWVzc2FnZSA9ICLor7fmsYLotoXml7YiOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDA6CiAgICAgICAgbWVzc2FnZSA9ICLmnI3liqHlmajlhoXpg6jplJnor68iOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDE6CiAgICAgICAgbWVzc2FnZSA9ICLmnI3liqHmnKrlrp7njrAiOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDI6CiAgICAgICAgbWVzc2FnZSA9ICLnvZHlhbPplJnor68iOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDM6CiAgICAgICAgbWVzc2FnZSA9ICLmnI3liqHkuI3lj6/nlKgiOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDQ6CiAgICAgICAgbWVzc2FnZSA9ICLnvZHlhbPotoXml7YiOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1MDU6CiAgICAgICAgbWVzc2FnZSA9ICJIVFRQ54mI5pys5LiN5Y+X5pSv5oyBIjsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgbWVzc2FnZSA9ICLor7fmsYLlpLHotKUiOwogICAgfQoKICAgIEVsTWVzc2FnZS5lcnJvcihtZXNzYWdlKTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgfSk7IC8vIOWPkemAgeecn+ato+eahOe9kee7nOivt+axggoKICByZXR1cm4gaW5zdGFuY2UoY29uZmlnKTsKfQ=="},{"version":3,"mappings":"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","names":["axios","ElLoading","ElMessage","NProgress","text","loading","requestCount","showLoading","service","background","spinner","hideLoading","close","request","method","url","info","config","instance","create","baseURL","process","env","NODE_ENV","VUE_APP_API_URL_PROD","VUE_APP_API_URL_DEV","timeout","config0","data","params","withCredentials","Object","assign","interceptors","use","start","token","window","localStorage","getItem","headers","Authorization","JSON","stringify","error","console","log","Promise","reject","response","done","status","message"],"sourceRoot":"","sources":["/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js"],"sourcesContent":["import axios from \"axios\";\nimport { ElLoading, ElMessage } from \"element-plus\";\nimport { useI18n } from \"vue-i18n\";\nimport NProgress from \"nprogress\";\n\nconst text = \"loading\";\nlet loading;\nlet requestCount = 0;\n\nconst showLoading = () => {\n  if (requestCount === 0 && !loading) {\n    loading = ElLoading.service({\n      text: text,\n      background: \"rgba(0, 0, 0, 0.7)\",\n      spinner: \"el-icon-loading\"\n    });\n  }\n  ++requestCount;\n};\nconst hideLoading = () => {\n  --requestCount;\n  if (requestCount === 0) {\n    loading.close();\n  }\n};\nexport function request(method, url, info, config) {\n  // 创建axios的实例\n  const instance = axios.create({\n    baseURL:\n      process.env.NODE_ENV == \"production\"\n        ? process.env.VUE_APP_API_URL_PROD\n        : process.env.VUE_APP_API_URL_DEV,\n    timeout: 20000\n  });\n\n  const config0 = {\n    method: method === \"DELETE1\" ? \"DELETE\" : method,\n    url: url,\n    data:\n      method === \"POST\" || method === \"PUT\" || method === \"DELETE\"\n        ? info\n        : null,\n    params: method === \"GET\" || method === \"DELETE1\" ? info : null,\n    withCredentials: true\n  };\n\n  config = Object.assign(config0, config);\n\n  // 请求拦截器配置\n  instance.interceptors.request.use(\n    (config) => {\n      // showLoading();\n      NProgress.start();\n      // 每次发送请求之前判断是否存在token，如果存在，则统一在http请求的header都加上token，不用每次请求都手动添加了\n      const token = window.localStorage.getItem(\"token\");\n      token && (config.headers.Authorization = token);\n      if (config.method === \"POST\") {\n        config.data = JSON.stringify(config.data);\n      }\n      return config;\n    },\n    (error) => {\n      console.log(error);\n      return Promise.reject(error);\n    }\n  );\n\n  // 响应拦截器配置\n  instance.interceptors.response.use(\n    (response) => {\n      // hideLoading();\n      NProgress.done();\n      return response.data;\n    },\n    (error) => {\n      if (!error.response || !error.response.status) {\n        return Promise.reject(error);\n      }\n      let message;\n      switch (error.response.status) {\n        case 400:\n          message = \"请求错误\";\n          break;\n        case 401:\n          message = \"无权访问\";\n          break;\n        case 403:\n          message = \"Token过期了\";\n          break;\n        case 404:\n          message = \"404\";\n          break;\n        case 408:\n          message = \"请求超时\";\n          break;\n        case 500:\n          message = \"服务器内部错误\";\n          break;\n        case 501:\n          message = \"服务未实现\";\n          break;\n        case 502:\n          message = \"网关错误\";\n          break;\n        case 503:\n          message = \"服务不可用\";\n          break;\n        case 504:\n          message = \"网关超时\";\n          break;\n        case 505:\n          message = \"HTTP版本不受支持\";\n          break;\n        default:\n          message = \"请求失败\";\n      }\n      ElMessage.error(message);\n      return Promise.reject(error);\n    }\n  );\n\n  // 发送真正的网络请求\n  return instance(config);\n}\n"]}]}