{"remainingRequest":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--15-3!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js??ref--14-0!/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/store/modules/user.ts","dependencies":[{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/store/modules/user.ts","mtime":1639643430000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/babel.config.js","mtime":1638601854000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgeyBsb2dpbiwgbG9nb3V0IH0gZnJvbSAiQC9hcGkvbG9naW4iOwppbXBvcnQgc3RvcmFnZSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UvaW5kZXgiOwppbXBvcnQgeyBQcm9taXNlIH0gZnJvbSAiY29yZS1qcyI7CnZhciB1c2VyID0gewogIHN0YXRlOiB7CiAgICB1c2VyX2lkOiAtMSwKICAgIHVzZXJfbmFtZTogIiIKICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1VTRVJfSUQ6IGZ1bmN0aW9uIFNFVF9VU0VSX0lEKHN0YXRlLCBpZCkgewogICAgICBzdGF0ZS51c2VyX2lkID0gaWQ7CiAgICAgIHN0b3JhZ2Uuc2V0VXNlcklkKGlkKTsKICAgIH0sCiAgICBTRVRfVVNFUl9OQU1FOiBmdW5jdGlvbiBTRVRfVVNFUl9OQU1FKHN0YXRlLCBuYW1lKSB7CiAgICAgIHN0YXRlLnVzZXJfbmFtZSA9IG5hbWU7CiAgICAgIHN0b3JhZ2Uuc2V0VXNlck5hbWUobmFtZSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBMb2dpbjogZnVuY3Rpb24gTG9naW4oX3JlZiwgdXNlckluZm8pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICB2YXIgdXNlcm5hbWUgPSB1c2VySW5mby51c2VybmFtZS50cmltKCk7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgbG9naW4odXNlcm5hbWUsIHVzZXJJbmZvLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29tbWl0KCJTRVRfVVNFUl9JRCIsIDEpOwogICAgICAgICAgY29tbWl0KCJTRVRfVVNFUl9OQU1FIiwgdXNlcm5hbWUpOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBMb2dvdXQ6IGZ1bmN0aW9uIExvZ291dChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBsb2dvdXQoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHVzZXI7"},{"version":3,"mappings":";AAAA,SAASA,KAAT,EAAgBC,MAAhB,QAA8B,aAA9B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,OAAT,QAAwB,SAAxB;AAEA,IAAMC,IAAI,GAAG;EACXC,KAAK,EAAE;IACLC,OAAO,EAAE,CAAC,CADL;IAELC,SAAS,EAAE;EAFN,CADI;EAMXC,SAAS,EAAE;IACTC,WAAW,EAAE,qBAACJ,KAAD,EAAQK,EAAR,EAAc;MACzBL,KAAK,CAACC,OAAN,GAAgBI,EAAhB;MACAR,OAAO,CAACS,SAAR,CAAkBD,EAAlB;IACD,CAJQ;IAKTE,aAAa,EAAE,uBAACP,KAAD,EAAQQ,IAAR,EAAgB;MAC7BR,KAAK,CAACE,SAAN,GAAkBM,IAAlB;MACAX,OAAO,CAACY,WAAR,CAAoBD,IAApB;IACD;EARQ,CANA;EAiBXE,OAAO,EAAE;IACPC,KADO,uBACWC,QADX,EACmB;MAAA,IAAlBC,MAAkB,QAAlBA,MAAkB;MACxB,IAAMC,QAAQ,GAAGF,QAAQ,CAACE,QAAT,CAAkBC,IAAlB,EAAjB;MACA,OAAO,IAAIjB,OAAJ,CAAY,UAACkB,OAAD,EAAUC,MAAV,EAAoB;QACrCtB,KAAK,CAACmB,QAAD,EAAWF,QAAQ,CAACM,QAApB,CAAL,CACGC,IADH,CACQ,UAACC,QAAD,EAAa;UACjBP,MAAM,CAAC,aAAD,EAAgB,CAAhB,CAAN;UACAA,MAAM,CAAC,eAAD,EAAkBC,QAAlB,CAAN;UACAE,OAAO,CAACI,QAAD,CAAP;QACD,CALH,EAMGC,KANH,CAMS,UAACC,KAAD,EAAU;UACfL,MAAM,CAACK,KAAD,CAAN;QACD,CARH;MASD,CAVM,CAAP;IAWD,CAdM;IAgBPC,MAhBO,yBAgBiB;MAAA,IAAfV,MAAe,SAAfA,MAAe;MAAA,IAAPb,KAAO,SAAPA,KAAO;MACtB,OAAO,IAAIF,OAAJ,CAAY,UAACkB,OAAD,EAAUC,MAAV,EAAoB;QACrCrB,MAAM,GACHuB,IADH,CACQ,UAACC,QAAD,EAAa;UACjBJ,OAAO,CAACI,QAAD,CAAP;QACD,CAHH,EAIGC,KAJH,CAIS,UAACC,KAAD,EAAU;UACfL,MAAM,CAACK,KAAD,CAAN;QACD,CANH;MAOD,CARM,CAAP;IASD;EA1BM;AAjBE,CAAb;AA+CA,eAAevB,IAAf","names":["login","logout","storage","Promise","user","state","user_id","user_name","mutations","SET_USER_ID","id","setUserId","SET_USER_NAME","name","setUserName","actions","Login","userInfo","commit","username","trim","resolve","reject","password","then","response","catch","error","Logout"],"sourceRoot":"","sources":["/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_eslint-loader@2.2.1@eslint-loader/index.js"],"sourcesContent":["import { login, logout } from \"@/api/login\";\nimport storage from \"@/utils/storage/index\";\nimport { Promise } from \"core-js\";\n\nconst user = {\n  state: {\n    user_id: -1,\n    user_name: \"\"\n  },\n\n  mutations: {\n    SET_USER_ID: (state, id) => {\n      state.user_id = id;\n      storage.setUserId(id);\n    },\n    SET_USER_NAME: (state, name) => {\n      state.user_name = name;\n      storage.setUserName(name);\n    }\n  },\n\n  actions: {\n    Login({ commit }, userInfo) {\n      const username = userInfo.username.trim();\n      return new Promise((resolve, reject) => {\n        login(username, userInfo.password)\n          .then((response) => {\n            commit(\"SET_USER_ID\", 1);\n            commit(\"SET_USER_NAME\", username);\n            resolve(response);\n          })\n          .catch((error) => {\n            reject(error);\n          });\n      });\n    },\n\n    Logout({ commit, state }) {\n      return new Promise((resolve, reject) => {\n        logout()\n          .then((response) => {\n            resolve(response);\n          })\n          .catch((error) => {\n            reject(error);\n          });\n      });\n    }\n  }\n};\n\nexport default user;\n"]}]}