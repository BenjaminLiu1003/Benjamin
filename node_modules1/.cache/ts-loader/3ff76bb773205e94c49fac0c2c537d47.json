{"remainingRequest":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--15-2!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--1-1!/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/layout/components/navbar.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/layout/components/navbar.vue","mtime":1653311719709},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/babel.config.js","mtime":1638601854000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gInZ1ZS1pMThuIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAidnVlLXJvdXRlciI7IC8vIGltcG9ydCB7IGdldEN1cnJlbnRJbnN0YW5jZSB9IGZyb20gJ3Z1ZScKCmltcG9ydCB7IHJlZiwgcmVhY3RpdmUsIG9uQmVmb3JlVW5tb3VudCwgb25Nb3VudGVkLCB3YXRjaCB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IGZvcm1hdFRpbWUgfSBmcm9tICJAL3V0aWxzL2luZGV4IjsKaW1wb3J0IHsgc3VidGl0bGUsIFdFRUsgfSBmcm9tICJAL2NvbnN0YW50L2luZGV4IjsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfdXNlSTE4biA9IHVzZUkxOG4oKSwKICAgICAgICB0ID0gX3VzZUkxOG4udDsKCiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7IC8vICog5b2T5YmN6YCJ5Lit55qEVGFi6aG1CgogICAgdmFyIGN1cnJlbnRJbmRleCA9IHJlZigxKTsgLy8gKiDml7bpl7TlhoXlrrkKCiAgICB2YXIgdGltZUluZm8gPSByZWFjdGl2ZSh7CiAgICAgIHNldEludGVydmFsOiAwLAogICAgICBkYXRlRGF5OiAiIiwKICAgICAgZGF0ZVllYXI6ICIiLAogICAgICBkYXRlV2VlazogIiIKICAgIH0pOyAvLyDnlJ/lkb3lkajmnJ8KCiAgICBvbkJlZm9yZVVubW91bnQoZnVuY3Rpb24gKCkgewogICAgICBjbGVhckludGVydmFsKHRpbWVJbmZvLnNldEludGVydmFsKTsKICAgIH0pOwogICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgZm9ybWF0VGltZUluZm8oKTsKICAgICAgaGFuZGxlVGltZSgpOwogICAgfSk7CiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByb3V0ZXI7CiAgICB9LCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGNvbnNvbGUubG9nKG5ld1ZhbHVlKTsKICAgICAgY3VycmVudEluZGV4LnZhbHVlID0gc3VidGl0bGUuaW5kZXhPZihuZXdWYWx1ZS5jdXJyZW50Um91dGUudmFsdWUubmFtZS50b1N0cmluZygpKTsKICAgIH0sIHsKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9KTsKCiAgICB2YXIgc3dpdGNoVGFiID0gZnVuY3Rpb24gc3dpdGNoVGFiKGluZGV4KSB7CiAgICAgIGN1cnJlbnRJbmRleC52YWx1ZSA9IGluZGV4OyAvLyByb3V0ZXIucHVzaChzdWJ0aXRsZVtpbmRleF0pCiAgICB9OyAvLyB0b2RvIOWkhOeQhuaXtumXtOebkeWQrAoKCiAgICB2YXIgZm9ybWF0VGltZUluZm8gPSBmdW5jdGlvbiBmb3JtYXRUaW1lSW5mbygpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB0aW1lSW5mby5kYXRlRGF5ID0gZm9ybWF0VGltZShkYXRlLCAiSEg6IG1tOiBzcyIpOwogICAgICB0aW1lSW5mby5kYXRlWWVhciA9IGZvcm1hdFRpbWUoZGF0ZSwgInl5eXktTU0tZGQiKTsKICAgICAgdGltZUluZm8uZGF0ZVdlZWsgPSBXRUVLW2RhdGUuZ2V0RGF5KCldOwogICAgfTsKCiAgICB2YXIgaGFuZGxlVGltZSA9IGZ1bmN0aW9uIGhhbmRsZVRpbWUoKSB7CiAgICAgIHRpbWVJbmZvLnNldEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGZvcm1hdFRpbWVJbmZvKCk7CiAgICAgIH0sIDEwMDApOwogICAgfTsgLy8gcmV0dXJuCgoKICAgIHJldHVybiB7CiAgICAgIHQ6IHQsCiAgICAgIHRpbWVJbmZvOiB0aW1lSW5mbywKICAgICAgc3VidGl0bGU6IHN1YnRpdGxlLAogICAgICBjdXJyZW50SW5kZXg6IGN1cnJlbnRJbmRleCwKICAgICAgc3dpdGNoVGFiOiBzd2l0Y2hUYWIKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";;;AACA,SAASA,OAAT,QAAwB,UAAxB;AACA,SAASC,SAAT,QAA0B,YAA1B,C,CACA;;AACA,SAASC,GAAT,EAAcC,QAAd,EAAwBC,eAAxB,EAAyCC,SAAzC,EAAoDC,KAApD,QAAiE,KAAjE;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,kBAA/B;AAGA,eAAe;EACbC,KADa,mBACR;IACH,eAAcV,OAAO,EAArB;IAAA,IAAQW,CAAR,YAAQA,CAAR;;IACA,IAAMC,MAAM,GAAGX,SAAS,EAAxB,CAFG,CAGH;;IACA,IAAIY,YAAY,GAAGX,GAAG,CAAC,CAAD,CAAtB,CAJG,CAKH;;IACA,IAAMY,QAAQ,GAAGX,QAAQ,CAAC;MACxBY,WAAW,EAAE,CADW;MAExBC,OAAO,EAAE,EAFe;MAGxBC,QAAQ,EAAE,EAHc;MAIxBC,QAAQ,EAAE;IAJc,CAAD,CAAzB,CANG,CAaH;;IACAd,eAAe,CAAC,YAAK;MACnBe,aAAa,CAACL,QAAQ,CAACC,WAAV,CAAb;IACD,CAFc,CAAf;IAIAV,SAAS,CAAC,YAAK;MACbe,cAAc;MACdC,UAAU;IACX,CAHQ,CAAT;IAKAf,KAAK,CACH;MAAA,OAAMM,MAAN;IAAA,CADG,EAEH,UAACU,QAAD,EAAWC,QAAX,EAAuB;MACrBC,OAAO,CAACC,GAAR,CAAYH,QAAZ;MACAT,YAAY,CAACa,KAAb,GAAqBlB,QAAQ,CAACmB,OAAT,CACnBL,QAAQ,CAACM,YAAT,CAAsBF,KAAtB,CAA4BG,IAA5B,CAAiCC,QAAjC,EADmB,CAArB;IAGD,CAPE,EAQH;MAAEC,SAAS,EAAE;IAAb,CARG,CAAL;;IAWA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAU;MAC1BpB,YAAY,CAACa,KAAb,GAAqBO,KAArB,CAD0B,CAE1B;IACD,CAHD,CAlCG,CAuCH;;;IACA,IAAMb,cAAc,GAAG,SAAjBA,cAAiB,GAAK;MAC1B,IAAMc,IAAI,GAAG,IAAIC,IAAJ,EAAb;MACArB,QAAQ,CAACE,OAAT,GAAmBT,UAAU,CAAC2B,IAAD,EAAO,YAAP,CAA7B;MACApB,QAAQ,CAACG,QAAT,GAAoBV,UAAU,CAAC2B,IAAD,EAAO,YAAP,CAA9B;MACApB,QAAQ,CAACI,QAAT,GAAoBT,IAAI,CAACyB,IAAI,CAACE,MAAL,EAAD,CAAxB;IACD,CALD;;IAOA,IAAMf,UAAU,GAAG,SAAbA,UAAa,GAAK;MACtBP,QAAQ,CAACC,WAAT,GAAuBA,WAAW,CAAC,YAAK;QACtCK,cAAc;MACf,CAFiC,EAE/B,IAF+B,CAAlC;IAGD,CAJD,CA/CG,CAqDH;;;IACA,OAAO;MACLT,CAAC,EAADA,CADK;MAELG,QAAQ,EAARA,QAFK;MAGLN,QAAQ,EAARA,QAHK;MAILK,YAAY,EAAZA,YAJK;MAKLmB,SAAS,EAATA;IALK,CAAP;EAOD;AA9DY,CAAf","names":["useI18n","useRouter","ref","reactive","onBeforeUnmount","onMounted","watch","formatTime","subtitle","WEEK","setup","t","router","currentIndex","timeInfo","setInterval","dateDay","dateYear","dateWeek","clearInterval","formatTimeInfo","handleTime","newValue","oldValue","console","log","value","indexOf","currentRoute","name","toString","immediate","switchTab","index","date","Date","getDay"],"sourceRoot":"","sources":["/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js"],"sourcesContent":["\nimport { useI18n } from \"vue-i18n\";\nimport { useRouter } from \"vue-router\";\n// import { getCurrentInstance } from 'vue'\nimport { ref, reactive, onBeforeUnmount, onMounted, watch } from \"vue\";\nimport { formatTime } from \"@/utils/index\";\nimport { subtitle, WEEK } from \"@/constant/index\";\nimport router from \"@/router/index\";\n\nexport default {\n  setup() {\n    const { t } = useI18n();\n    const router = useRouter();\n    // * 当前选中的Tab页\n    let currentIndex = ref(1);\n    // * 时间内容\n    const timeInfo = reactive({\n      setInterval: 0,\n      dateDay: \"\",\n      dateYear: \"\",\n      dateWeek: \"\",\n    });\n\n    // 生命周期\n    onBeforeUnmount(() => {\n      clearInterval(timeInfo.setInterval);\n    });\n\n    onMounted(() => {\n      formatTimeInfo();\n      handleTime();\n    });\n\n    watch(\n      () => router,\n      (newValue, oldValue) => {\n        console.log(newValue);\n        currentIndex.value = subtitle.indexOf(\n          newValue.currentRoute.value.name.toString()\n        );\n      },\n      { immediate: true }\n    );\n\n    const switchTab = (index) => {\n      currentIndex.value = index;\n      // router.push(subtitle[index])\n    };\n\n    // todo 处理时间监听\n    const formatTimeInfo = () => {\n      const date = new Date();\n      timeInfo.dateDay = formatTime(date, \"HH: mm: ss\");\n      timeInfo.dateYear = formatTime(date, \"yyyy-MM-dd\");\n      timeInfo.dateWeek = WEEK[date.getDay()];\n    };\n\n    const handleTime = () => {\n      timeInfo.setInterval = setInterval(() => {\n        formatTimeInfo();\n      }, 1000);\n    };\n\n    // return\n    return {\n      t,\n      timeInfo,\n      subtitle,\n      currentIndex,\n      switchTab,\n    };\n  },\n};\n"]}]}