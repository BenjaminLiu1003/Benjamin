{"remainingRequest":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js??ref--1-1!/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/layout/components/navbar.vue?vue&type=style&index=0&id=3098a05c&lang=scss&scoped=true","dependencies":[{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/layout/components/navbar.vue","mtime":1652940155447},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/node_modules/_vue-loader@16.8.3@vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgJ0AvYXNzZXRzL3Njc3MvaW5kZXguc2Nzcyc7Cg=="},{"version":3,"sources":["/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/layout/components/navbar.vue"],"names":[],"mappings":";AAkHA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/benjunliu/Desktop/Work/web/Untitled Folder/src/views/layout/components/navbar.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"d-flex jc-between\">\n    <div class=\"d-flex aside-width\">\n      <!-- <img src=\"@/assets/img/logo.png\" /> -->\n      <span>JCT Monitor</span>\n      <div class=\"react-left ml-4\"\n           v-for=\"(item, index) in subtitle\"\n           :key=\"index\"\n           :class=\"currentIndex==index?'active':''\"\n           @click=\"switchTab(index)\">\n        <span class=\"text\">{{ t(item) }}</span>\n      </div>\n      <!-- <div class=\"react-left ml-4\" @click=\"click1\">\n              <span class=\"react-before\"></span>\n              <span class=\"text\">{{ subtitle[0] }}</span>\n            </div>\n            <div class=\"react-left ml-4\">\n              <span class=\"text\">{{ subtitle[1] }}</span>\n            </div>\n            <div class=\"react-left ml-4\">\n              <span class=\"text\">{{ subtitle[2] }}</span>\n            </div>\n            <div class=\"react-left ml-4\">\n              <span class=\"text\">{{ subtitle[3] }}</span>\n            </div> -->\n    </div>\n    <div class=\"d-flex aside-width\">\n      <div class=\"react-right mr-1 react-l-s\">\n        <span class=\"react-after\"></span>\n        <span class=\"text\">\n          {{ timeInfo.dateYear }} {{ timeInfo.dateWeek }}\n          {{ timeInfo.dateDay }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { useI18n } from 'vue-i18n'\nimport { useRouter } from 'vue-router'\n// import { getCurrentInstance } from 'vue'\nimport { ref, reactive, onBeforeUnmount, onMounted, watch } from 'vue'\nimport { formatTime } from '@/utils/index'\nimport { subtitle, WEEK } from '@/constant/index'\nimport router from '@/router/index'\n\nexport default {\n  setup() {\n    const { t } = useI18n()\n    const router = useRouter()\n    // * 当前选中的Tab页\n    let currentIndex = ref(0)\n    // * 时间内容\n    const timeInfo = reactive({\n      setInterval: 0,\n      dateDay: '',\n      dateYear: '',\n      dateWeek: '',\n    })\n\n    // 生命周期\n    onBeforeUnmount(() => {\n      clearInterval(timeInfo.setInterval)\n    })\n\n    onMounted(() => {\n      formatTimeInfo()\n      handleTime()\n    })\n\n    watch(\n      () => router,\n      (newValue, oldValue) => {\n        console.log(newValue)\n        currentIndex.value = subtitle.indexOf(\n          newValue.currentRoute.value.name.toString()\n        )\n      },\n      { immediate: true }\n    )\n\n    const switchTab = (index) => {\n      currentIndex.value = index\n      // router.push(subtitle[index])\n    }\n\n    // todo 处理时间监听\n    const formatTimeInfo = () => {\n      const date = new Date()\n      timeInfo.dateDay = formatTime(date, 'HH: mm: ss')\n      timeInfo.dateYear = formatTime(date, 'yyyy-MM-dd')\n      timeInfo.dateWeek = WEEK[date.getDay()]\n    }\n\n    const handleTime = () => {\n      timeInfo.setInterval = setInterval(() => {\n        formatTimeInfo()\n      }, 1000)\n    }\n\n    // return\n    return {\n      t,\n      timeInfo,\n      subtitle,\n      currentIndex,\n      switchTab,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/scss/index.scss';\n</style>\n"]}]}